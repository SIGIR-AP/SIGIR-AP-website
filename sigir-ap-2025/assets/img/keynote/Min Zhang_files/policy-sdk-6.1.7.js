var __builtin_policy_sdk__;!function(){var t,e={5978:function(t,e,n){"use strict";n.d(e,{H2:function(){return a},su:function(){return i},j_:function(){return w},Ru:function(){return g},a$:function(){return U},wh:function(){return R},UM:function(){return x},OE:function(){return _},fb:function(){return o},_v:function(){return F},FH:function(){return y},oU:function(){return M},n5:function(){return L},rD:function(){return N}});var r,o,i,a,c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};!function(t){t.VA="us",t.CN="cn",t.JP="jp",t.SG="sg",t.MY="my"}(o||(o={})),function(t){t.BOE="boe",t.PRE="pre",t.ONLINE=""}(i||(i={})),function(t){t[t.FEISHU=0]="FEISHU",t[t.LARK=1]="LARK",t[t.ANONYMOUS=2]="ANONYMOUS"}(a||(a={}));var l,s,f,d=((r={})[a.FEISHU]=["feishu","larkoffice"],r[a.LARK]=["larksuite"],r),p={brand:a.LARK,env:i.ONLINE,unit:o.SG},h=function(t){var e,n,r=i.ONLINE;try{for(var o=c(Object.values(i)),a=o.next();!a.done;a=o.next()){var u=a.value;if(u!==i.ONLINE)if(new RegExp("".concat(u,"$")).test(t)){r=u;break}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},v=function(t,e){var n,r,i=e===a.FEISHU?o.CN:o.VA,u=e===a.FEISHU?[o.JP,o.SG,o.VA,o.MY]:[o.JP,o.SG,o.MY];try{for(var l=c(u),s=l.next();!s.done;s=l.next()){var f=s.value;if(new RegExp("".concat(f,"$")).test(t)){i=f;break}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return i},y=function(t){var e,n,r=u(function(t){var e=t.split(".").filter(Boolean),n=e.length;return[e[n-3],e[n-2],e[n-1]]}(t),2),o=r[0],i=r[1],l=void 0===i?"":i,s=a.ANONYMOUS;try{for(var f=c(Object.keys(d)),y=f.next();!y.done;y=f.next()){var b=y.value;if(d[b].some((function(t){return l.includes(t)}))){s=Number(b);break}}}catch(t){e={error:t}}finally{try{y&&!y.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}return s===a.ANONYMOUS?p:{brand:s,env:h(l),unit:v(o,s)}};var b="";"undefined"!=typeof window&&(b=(null===(f=null===(s=null===(l=null===window||void 0===window?void 0:window.navigator)||void 0===l?void 0:l.userAgent)||void 0===s?void 0:s.toLowerCase)||void 0===f?void 0:f.call(s))||"");var _,g=-1!==b.indexOf("lark")||b.includes("openharmonyapp"),w=-1!==b.indexOf("docssdk"),m="undefined"!=typeof navigator?navigator.platform:"",E=function(){return!("undefined"==typeof document||!(null===document||void 0===document?void 0:document.documentElement)||!("ontouchstart"in document.documentElement))},C=function(t,e){return!("undefined"==typeof window||!window||!window.navigator)&&(/ipad/gi.test(t)||Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2&&e.includes("MacIntel"))},O=function(t){return/Android/i.test(t)},S=function(t){return/iphone|ipod/i.test(t)},I=function(t){return t.includes("Mac")},P=function(t){return t.includes("Linux")},T=function(t){return t.includes("Win")},k=function(t){return/ArkWeb/i.test(t)},A=function(t){return/2in1/i.test(t)&&k(t)};!function(t){t[t.Unknown=0]="Unknown",t[t.PC=1]="PC",t[t.Web=2]="Web",t[t.Android=3]="Android",t[t.iOS=4]="iOS",t[t.OtherMobile=8]="OtherMobile"}(_||(_={}));var R,N=function(t,e){if(g){if(k(t)&&!A(t))return _.OtherMobile;if(O(t))return _.Android;if(S(t)||C(t,e))return _.iOS;if(I(e)||T(e)||P(e)||A(t))return _.PC}return _.Web}(b,m),L=function(t,e){if(g){if(k(t))return _.OtherMobile;if(O(t))return _.Android;if(S(t)||C(t,e))return _.iOS;if(I(e)||T(e)||P(e))return _.PC}return _.Web}(b,m);!function(t){t[t.Unknown=0]="Unknown",t[t.Windows=1]="Windows",t[t.Linux=2]="Linux",t[t.Mac=3]="Mac",t[t.Android=4]="Android",t[t.iOS=5]="iOS",t[t.OpenHarmony=6]="OpenHarmony"}(R||(R={}));var D,M=function(t,e){return k(t)?R.OpenHarmony:function(t,e){var n=E();return!(!function(t){return/iphone|mac/i.test(t)}(e)||!n)||(!(!S(t)&&!C(t,e))||!(!I(e)||!n))}(t,e)?R.iOS:function(t,e){var n=E();return!!O(t)||(!(!T(e)||!n)||!(!P(e)||!n))}(t,e)?R.Android:I(e)?R.Mac:T(e)?R.Windows:P(e)?R.Linux:R.Unknown}(b,m),x="pc",U="mobile",F=function(){return M===R.OpenHarmony?A(b)?x:U:[R.Windows,R.Mac,R.Linux].includes(M)?x:U};!function(t){t.Chrome="Chrome",t.FireFox="FireFox",t.UCBrowser="UCBrowser",t.UCBrowserHD="UCBrowserHD",t.Sougou="Sougou",t.Quark="Quark",t.QQBrowser="QQBrowser",t.QQBrowserHD="QQBrowserHD",t.Baidu="Baidu",t.Aoyou="Aoyou",t.QihooHD="360BrowserHD",t.Qihoo="360Browser",t.DuckDuck="DuckDuckGo Privacy Browser",t.Aloha="Aloha Browser - private & fast",t.Edge="Edge",t.Opera="Opera Touch web browser",t.Safari="Safari",t.Unknown="unknown"}(D||(D={}));D.Chrome,D.FireFox,D.UCBrowser,D.UCBrowserHD,D.Sougou,D.Quark,D.QQBrowser,D.QQBrowserHD,D.Baidu,D.Aoyou,D.QihooHD,D.Qihoo,D.DuckDuck,D.Aloha,D.Edge,D.Opera,D.Safari;var j=window.navigator.userAgent;/Version\/[\d.]+ Mobile\/\w+ Safari/.test(j),/Version\/[\d.]+ Safari/.test(j)&&-1===j.indexOf("Chrome")&&document},3746:function(t,e,n){"use strict";n.d(e,{d1:function(){return r},ox:function(){return o}});var r="__TRACER_SPAN__",o="LARK_TRACER_API"},9051:function(t,e,n){"use strict";n.d(e,{_:function(){return a}});var r,o=n(9717),i=n(3746),a=function(){function t(t){this.parent=null,this.map={},t&&(this.parent=t),this.id=(0,o.x0)()}return t.current=function(){return r.context},t.prototype.run=function(t,e){this.active();try{return t.apply(e)}finally{this.deactive()}},t.prototype.active=function(){r={context:this,parent:r}},t.prototype.deactive=function(){var t;r=null!==(t=r.parent)&&void 0!==t?t:c},t.prototype.getValue=function(t){return this.map[t]},t.prototype.setValue=function(t,e){this.map[t]=e},t.prototype.getSpan=function(){return this.getValue(i.d1)},t.prototype.setSpan=function(t){this.setValue(i.d1,t)},t}(),c={context:new a,parent:null};r=c},3031:function(t,e,n){"use strict";e.X_=void 0;var r=n(7613);Object.defineProperty(e,"X_",{enumerable:!0,get:function(){return r.waitFor}})},7613:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.waitFor=e.PollUntil=void 0;const r="Your executor is not a function. functions and promises are valid.",o="Failed to wait";class i{constructor({interval:t=100,timeout:e=1e3,stopOnFailure:n=!1,verbose:r=!1,backoffFactor:o=1,backoffMaxInterval:i,message:a=""}={}){this._interval=t,this._timeout=e,this._stopOnFailure=n,this._isWaiting=!1,this._isResolved=!1,this._verbose=r,this._userMessage=a,this.originalStacktraceError=new Error,this._Console=console,this._backoffFactor=o,this._backoffMaxInterval=i||e,this.start=+Date.now()}tryEvery(t){return this._interval=t,this}stopAfter(t){return this._timeout=t,this}execute(t){return this._applyPromiseHandlers(),function(t){if("function"!=typeof t)throw new Error(r)}(t),this._executeFn=function(t){return()=>n(this,void 0,void 0,(function*(){return yield t()}))}(t),this.start=Date.now(),this._isWaiting=!0,this._log("starting to execute"),this._runFunction(),this.promise}getPromise(){return this.promise}isResolved(){return this._isResolved}isWaiting(){return this._isWaiting}stopOnFailure(t){return this._stopOnFailure=t,this}_applyPromiseHandlers(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}_timeFromStart(){return Date.now()-this.start}_shouldStopTrying(){return this._timeFromStart()>this._timeout}_executeAgain(){this._log("executing again");const t=this._interval,e=t*this._backoffFactor;this._interval=e>this._backoffMaxInterval?this._backoffMaxInterval:e,setTimeout(this._runFunction.bind(this),t)}_failedToWait(){let t=`${o} after ${this._timeFromStart()}ms`;if(this._userMessage&&(t=`${t}: ${this._userMessage}`),this._lastError){this._lastError.message=`${t}\n${this._lastError.message}`;const e=this.originalStacktraceError.stack;e&&(this._lastError.stack+=e.substring(e.indexOf("\n")+1))}else this._lastError=this.originalStacktraceError,this._lastError.message=t;return this._log(this._lastError),this._lastError}_runFunction(){var t;if(this._shouldStopTrying())return this._isWaiting=!1,void(null===(t=this.reject)||void 0===t||t.call(this,this._failedToWait()));this._executeFn().then(t=>{var e;if(!1===t)return this._log("then execute again with result: "+t),void this._executeAgain();null===(e=this.resolve)||void 0===e||e.call(this,t),this._isWaiting=!1,this._isResolved=!0,this._log("then done waiting with result: "+t)}).catch(t=>{var e;return this._stopOnFailure?(this._log("stopped on failure with err: "+t),null===(e=this.reject)||void 0===e?void 0:e.call(this,t)):(this._lastError=t,this._log("catch with err: "+t),this._executeAgain())})}_log(t){this._verbose&&this._Console&&this._Console.log&&this._Console.log(t)}}e.PollUntil=i;e.waitFor=(t,e)=>new i(e).execute(t)},9538:function(t,e){var n,r,o;r=[],void 0===(o="function"==typeof(n=function(){var t=function t(e){function n(t,e){return t>>>e|t<<32-e}for(var r,o,i=Math.pow,a=i(2,32),c="",u=[],l=8*e.length,s=t.h=t.h||[],f=t.k=t.k||[],d=f.length,p={},h=2;d<64;h++)if(!p[h]){for(r=0;r<313;r+=h)p[r]=h;s[d]=i(h,.5)*a|0,f[d++]=i(h,1/3)*a|0}for(e+="Â€";e.length%64-56;)e+="\0";for(r=0;r<e.length;r++){if((o=e.charCodeAt(r))>>8)return;u[r>>2]|=o<<(3-r)%4*8}for(u[u.length]=l/a|0,u[u.length]=l,o=0;o<u.length;){var v=u.slice(o,o+=16),y=s;for(s=s.slice(0,8),r=0;r<64;r++){var b=v[r-15],_=v[r-2],g=s[0],w=s[4],m=s[7]+(n(w,6)^n(w,11)^n(w,25))+(w&s[5]^~w&s[6])+f[r]+(v[r]=r<16?v[r]:v[r-16]+(n(b,7)^n(b,18)^b>>>3)+v[r-7]+(n(_,17)^n(_,19)^_>>>10)|0);(s=[m+((n(g,2)^n(g,13)^n(g,22))+(g&s[1]^g&s[2]^s[1]&s[2]))|0].concat(s))[4]=s[4]+m|0}for(r=0;r<8;r++)s[r]=s[r]+y[r]|0}for(r=0;r<8;r++)for(o=3;o+1;o--){var E=s[r]>>8*o&255;c+=(E<16?0:"")+E.toString(16)}return c};return t.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',t})?n.apply(e,r):n)||(t.exports=o)},9972:function(t,e,n){"use strict";n.d(e,{Bo:function(){return c},Ih:function(){return u},KZ:function(){return p},Ox:function(){return i},Rv:function(){return o},U1:function(){return f},Z5:function(){return d},a0:function(){return s},u3:function(){return a},y3:function(){return l}});var r={request:n(3198).Z,baseURL:""};function o(t){r._initialized||(r.request=(null==t?void 0:t.request)||r.request,r.baseURL=(null==t?void 0:t.baseURL)||"",r._initialized=!0)}function i(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/runtime_config/query"),o=t||{},i={version:o.version,terminalType:o.terminalType},a={"x-lgw-terminal-type":o["x-lgw-terminal-type"]};return r.request({url:n,method:"POST",data:i,headers:a},e)}function a(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/policy_log/report"),o={policyLog:(t||{}).policyLog};return r.request({url:n,method:"POST",data:o},e)}function c(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/pointcut/query");return r.request({url:n,method:"POST"},e)}function u(t,e){var n=r.genBaseURL("/lark/scs/guardian/enforce"),o={params:(t||{}).params};return r.request({url:n,method:"POST",data:o},e)}function l(t,e){var n=r.genBaseURL("/lark/scs/guardian/pointcut/control_check"),o={params:(t||{}).params};return r.request({url:n,method:"POST",data:o},e)}function s(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/policy_type_tenants/query");return r.request({url:n,method:"POST"},e)}function f(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/policy_log/report/v2"),o=t||{},i={policyLog:o.policyLog,isPreEvaluate:o.isPreEvaluate};return r.request({url:n,method:"POST",data:i},e)}function d(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/evaluate_uk/report"),o={evaluateInfos:(t||{}).evaluateInfos};return r.request({url:n,method:"POST",data:o},e)}function p(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/evaluate_log/delete"),o={evaluateInfos:(t||{}).evaluateInfos};return r.request({url:n,method:"POST",data:o},e)}r.genBaseURL=function(t){return"function"==typeof r.baseURL?r.baseURL(t):r.baseURL+t}},4821:function(t,e,n){"use strict";n.d(e,{R$:function(){return i},gY:function(){return o}});var r={request:n(3198).Z,baseURL:""};function o(t){r._initialized||(r.request=(null==t?void 0:t.request)||r.request,r.baseURL=(null==t?void 0:t.baseURL)||"",r._initialized=!0)}function i(t,e){var n=r.genBaseURL("/lark/security/terminal/intranet/service_info");return r.request({url:n,method:"GET"},e)}r.genBaseURL=function(t){return"function"==typeof r.baseURL?r.baseURL(t):r.baseURL+t}},3788:function(t,e,n){"use strict";var r,o,i,a,c,u;n.d(e,{Jg:function(){return r},OW:function(){return i},Qm:function(){return o},Su:function(){return a},lS:function(){return u},py:function(){return c}}),function(t){t.Network="BLOCKED_BY_IP_RULE",t.NetworkStrict="BLOCKED_BY_IP_STRICT_POLICY",t.MFA="ACCESS_MFA",t.DeviceState="BLOCKED_BY_DEVICE_CREDIBILITY",t.DeviceOwn="BLOCKED_BY_DEVICE_OWNERSHIP",t.FilePolicy="FILE_BLOCK_COMMON",t.Permission="BLOCKED_BY_PERMISSION_PLUGIN",t.Default="DEFAULT",t.SignatureFailure="BLOCKED_BY_SIGNATURE_FAILURE",t.DLP_CONTENT_SENSITIVE="DLP_CONTENT_SENSITIVE",t.DLP_CONTENT_DETECTING="DLP_CONTENT_DETECTING",t.TT_BLOCK="TT_BLOCK",t.FALLBACK_COMMON="FALLBACK_COMMON",t.UNIVERSAL_FALLBACK_COMMON="UNIVERSAL_FALLBACK_COMMON",t.Intranet="BLOCKED_BY_TERMINAL_TOKEN",t.ACCESS_CONTROL_ACTION_COMMON="ACCESS_CONTROL_ACTION_COMMON"}(r||(r={})),function(t){t.Permit="PERMIT",t.Deny="DENY",t.Indeterminate="INDETERMINATE",t.NotApplicable="NOT_APPLICABLE"}(o||(o={})),function(t){t.CCMCopy="CCM_CONTENT_COPY",t.CCMPrint="CCM_PRINT",t.CCMExport="CCM_EXPORT",t.CCMShare="CCM_SHARE",t.CCMAttachmentDownload="CCM_ATTACHMENT_DOWNLOAD",t.CCMAttachmentUpload="CCM_ATTACHMENT_UPLOAD",t.CCMContentPreview="CCM_CONTENT_PREVIEW",t.CCMCreateCopy="CCM_CREATE_COPY",t.CCMPhysicalDelete="CCM_DELETE",t.CCMPFileUpload="CCM_FILE_UPLOAD",t.CCMPFilePreView="CCM_FILE_PREVIEW",t.CCMPFileDownload="CCM_FILE_DOWNLOAD",t.CCMPMoveRecycleBin="CCM_MOVE_RECYCLE_BIN",t.CCMOpen="CCM_OPEN",t.CCMAuth="CCM_AUTH",t.CCMOpenExternalAccess="CCM_OPEN_EXTERNAL_ACCESS",t.CCMOpenExternalAccessAsync="CCM_OPEN_EXTERNAL_ACCESS_ASYNC",t.CCMOpenLinkShareChange="CCM_LINK_SHARE_CHANGE",t.CCMOpenLinkShareChangeAsync="CCM_LINK_SHARE_CHANGE_ASYNC",t.CCMAddCollaborator="CCM_ADD_INTERNAL_COLLABORATOR",t.CCMAddCollaboratorAsync="CCM_ADD_INTERNAL_COLLABORATOR_ASYNC",t.CCMAddExternalCollaborator="CCM_ADD_EXTERNAL_COLLABORATOR",t.CCMAddExternalCollaboratorAsync="CCM_ADD_EXTERNAL_COLLABORATOR_ASYNC",t.IMTextSend="IM_MSG_SEND_TEXT_MSG",t.IMFileSend="IM_MSG_SEND_FILE_MSG",t.IMMSGPhysicalDelete="IM_MSG_PHYSICAL_DELETE",t.IMFileDownload="IM_MSG_FILE_DOWNLOAD",t.IMFileSave="IM_MSG_FILE_SAVE",t.IMFileUpload="IM_MSG_FILE_UPLOAD",t.IMFileShare="IM_MSG_FILE_SHARE",t.IMFilePreview="IM_MSG_FILE_PREVIEW",t.IMFileRead="IM_MSG_FILE_READ",t.IMFileCopy="IM_MSG_FILE_COPY",t.IMChatModifyName="IM_MSG_CHAT_MODIFY_NAME",t.IMChatModifyDesc="IM_MSG_CHAT_MODIFY_DESC",t.IMChatModifyProfile="IM_MSG_CHAT_MODIFY_PROFILE",t.IMChatAddTag="IM_MSG_CHAT_ADD_TAG",t.IMChatEditTag="IM_MSG_CHAT_EDIT_TAG",t.IMChatEditUserNickName="IM_MSG_EDIT_USER_NICK_NAME",t.IMMsgAsyncDetection="IM_MSG_ASYNC_DETECTION",t.VCMeetingMinutesPhysicalDelete="VC_MM_PHYSICAL_DELETE",t.MailPhysicalDelete="MAIL_PHYSICAL_DELETE",t.VcHardDelete="VC_MM_DELETE_FROM_RECYCLE_BIN",t.VcDelete="VC_MM_MOVE_RECYCLE_BIN",t.VcUpload="VC_MM_UPLOAD",t.VcCopy="VC_MM_CONTENT_COPY"}(i||(i={})),function(t){t.UNKNOWN="Unknown",t.CCM="CCM",t.IM="IM",t.MAIL="Mail",t.VC="VC",t.TODO="TODO",t.CALENDAR="Calendar",t.PASSPORT="Passport",t.IM_OTHERS="IM_Others",t.MINUTES="MeetingMinutes"}(a||(a={})),function(t){t.Doc="DOC",t.Docx="DOCX",t.Sheet="SHEET",t.Bitable="BITABLE",t.Mindnote="MINDNOTE",t.File="FILE",t.DASHBOARD="DASHBOARD",t.BITABLESHAREFORM="BITABLE_SHARE_FORM",t.CHART="CHART",t.SPACE_CATALOG="SPACE_CATALOG",t.WIKI_SPACE="WIKI_SPACE",t.PIVOTTABLE="PIVOT_TABLE",t.RECORD="RECORD",t.SYNC="SYNC",t.SLIDES="SLIDES",t.ImMsgFile="IM_MSG_FILE",t.MeetingMinutes="MeetingMinutes"}(c||(c={})),function(t){t.PAGE="page",t.DIALOG="dialog",t.TOAST="toast"}(u||(u={}))},6969:function(t,e,n){"use strict";var r,o;n.d(e,{Ab:function(){return d},Bd:function(){return h},MA:function(){return o},Nt:function(){return l},TP:function(){return i},Y3:function(){return p},hf:function(){return a},hj:function(){return f},hx:function(){return u},oz:function(){return c},r0:function(){return v},u7:function(){return s}}),function(t){t.ccmExport="PointKey_CCM_EXPORT",t.ccmFileDownload="PointKey_CCM_FILE_DOWNLOAD",t.ccmFileUpload="PointKey_CCM_FILE_UPLOAD",t.ccmAttachmentDownload="PointKey_CCM_ATTACHMENT_DOWNLOAD",t.ccmPrint="PointKey_CCM_PRINT",t.ccmCopy="PointKey_CCM_CONTENT_COPY",t.ccmDuplicate="PointKey_CCM_CREATE_COPY",t.ccmPreview="PointKey_CCM_CONTENT_PREVIEW",t.ccmFilePreview="PointKey_CCM_FILE_PREVIEW",t.ccmDelete="PointKey_CCM_MOVE_RECYCLE_BIN",t.ccmOpenExternalAccess="PointKey_CCM_OPEN_EXTERNAL_ACCESS",t.calendarCopy="PointKey_CALENDAR_CONTENT_COPY",t.calendarPreview="PointKey_CALENDAR_FILE_PREVIEW",t.imDownload="PointKey_IM_MSG_FILE_DOWNLOAD",t.imUpload="PointKey_IM_MSG_FILE_UPLOAD",t.imCopy="PointKey_IM_MSG_FILE_COPY",t.imPreview="PointKey_IM_MSG_FILE_PREVIEW",t.imShare="PointKey_IM_MSG_FILE_READ",t.vcCopy="PointKey_VC_MM_CONTENT_COPY"}(o||(o={}));var i,a=new Set([o.imShare,o.imDownload]),c=[o.imDownload],u=[o.imDownload],l=[o.imDownload],s=3,f="security_login_restriction_ping_time_storage",d=5e3,p=9e5,h="scs_user_behavior_report",v=((r={})[o.ccmExport]=o.ccmExport,r[o.ccmFileDownload]=o.ccmFileDownload,r[o.ccmFileUpload]=o.ccmFileUpload,r[o.ccmAttachmentDownload]=o.ccmAttachmentDownload,r[o.ccmPrint]=o.ccmPrint,r[o.ccmCopy]=o.ccmCopy,r[o.ccmDuplicate]=o.ccmDuplicate,r[o.ccmPreview]=o.ccmPreview,r[o.ccmFilePreview]=o.ccmFilePreview,r[o.ccmDelete]=o.ccmDelete,r[o.ccmOpenExternalAccess]=o.ccmOpenExternalAccess,r[o.calendarCopy]=o.calendarCopy,r[o.calendarPreview]=o.calendarPreview,r[o.imDownload]=o.imDownload,r[o.imUpload]=o.imUpload,r[o.imCopy]=o.imCopy,r[o.imPreview]=o.imPreview,r[o.imShare]=o.imShare,r[o.vcCopy]=o.vcCopy,r.GET_SETTINGS_V3_RESULT="GET_SETTINGS_V3_RESULT",r.GET_SETTINGS_V3_API_CALL_FAILED="GET_SETTINGS_V3_API_CALL_FAILED",r.GET_SETTINGS_V3_API_CALL_FAILED_CERT_ERROR="GET_SETTINGS_V3_API_CALL_FAILED_CERT_ERROR",r.GET_SETTINGS_V3_RESULT_ERROR="GET_SETTINGS_V3_RESULT_ERROR",r.JUMP_TO_NO_ACCCESS_PAGE_WEB="JUMP_TO_NO_ACCCESS_PAGE_WEB",r.THROW_POLICY_CENTER_RESOUCE_DENAIL_EVENT="THROW_POLICY_CENTER_RESOUCE_DENAIL_EVENT",r);!function(t){t.COND_ACCESS_WEB="COND_ACCESS_WEB",t.FILE_PROTECT_WEB="FILE_PROTECT_WEB",t.FILE_PROTECT_DESKTOP="FILE_PROTECT_DESKTOP"}(i||(i={}))},3583:function(t,e,n){"use strict";var r,o;n.d(e,{pW:function(){return r}}),function(t){t.UNKNOWN="",t.CCM="CCM",t.IM="IM",t.VC="VC",t.CALENDAR="CALENDAR"}(r||(r={})),function(t){t[t.P2P=1]="P2P",t[t.GROUP=2]="GROUP",t[t.TOPIC_GROUP=3]="TOPIC_GROUP"}(o||(o={}))},3545:function(t,e,n){"use strict";n.d(e,{EE:function(){return i}});var r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},o=function(t){return"object"!=typeof t?t:Array.isArray(t)?t.map((function(t){return o(t)})):Object.keys(t).sort().reduce((function(e,n){return e[n]="object"==typeof t[n]?o(t[n]):t[n],e}),{})},i=function(t){t.taskId;return function(t){var e=o(t);return JSON.stringify(e)}(r(t,["taskId"]))}},6379:function(t,e,n){"use strict";n.d(e,{g:function(){return i}});var r=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},o=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},i=new(function(){function t(t){this.cacheKey=t}return t.prototype.getCache=function(t){var e=null===localStorage||void 0===localStorage?void 0:localStorage.getItem("".concat(this.cacheKey,"-").concat(t));if(e)try{return JSON.parse(e)}catch(t){return null}return null},t.prototype.setCache=function(t,e){return null===localStorage||void 0===localStorage||localStorage.setItem("".concat(this.cacheKey,"-").concat(t),JSON.stringify(e)),e},t.prototype.getCacheAsync=function(t){var e=t.query,n=t.partition;return r(this,void 0,Promise,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return(t=this.getCache(n))?(this.updateCacheAsync({query:e,partition:n}),[2,t]):this.queryPromise?[2,this.queryPromise]:(this.queryPromise=e(),[4,this.queryPromise]);case 1:return r=o.sent(),this.queryPromise=null,r&&Object.keys(r).length>0&&this.setCache(n,r),[2,r]}}))}))},t.prototype.updateCacheAsync=function(t){var e=t.query,n=t.partition;return r(this,void 0,Promise,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return this.updatePromise?[2,this.updatePromise]:(this.updatePromise=e(),[4,this.updatePromise]);case 1:return(t=r.sent())&&Object.keys(t).length>0&&this.setCache(n,t),[2,t]}}))}))},t}())("policy-sdk-config")},4720:function(t,e,n){"use strict";n.d(e,{_:function(){return u},f:function(){return f}});var r=n(5958),o=function(t){return Boolean(t)&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},u={PolicyWorker:"PolicyWorker",PAP:"PAP",Network:"Network"},l=function(t,e,n,r){return{target:t,args:e,startTime:n,funcName:r,type:"info",err:null,res:null}},s=function(t,e,n,r){return{target:t,args:e,startTime:n,funcName:r,res:null,type:"error"}};function f(t){var e=t.onLog,n=t.onCatch,u=t.onReturn,f=t.beforeEnterAsync;return function(t,d,p){var h=p.value;p.value=function(){for(var t=this,p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];var y=(new Date).getTime();e&&e(i(i({},l(this,p,y,d)),{message:"s ".concat(d)}));var b=function(n){if(e&&e(i(i({},l(t,[],y,d)),{res:n,message:"f ".concat(d)})),u)return u.apply(void 0,c([t,n],a(p),!1))},_=function(o){var u={error:null==o?void 0:o.message,stack:null==o?void 0:o.stack,cause:null==o?void 0:o.cause,type:"Error",funcName:d,args:p,isOnline:navigator.onLine};if((0,r.DO)(u),e&&e(i(i({},s(t,p,y,d)),{err:o.message,message:"exec ".concat(d," error")})),n)return n.apply(void 0,c([t,o],a(p),!1));throw Error(o)},g=function(){try{var e=h.apply(t,c([],a(p),!1));return o(e)?e.then((function(t){return b(t)||e})).catch((function(t){return _(t)})):b(e)||e}catch(t){return _(t)}};return f?f.apply(void 0,c([this],a(p),!1)).then((function(t){return t.exit?t.result:g()})).catch((function(t){return _(t)})):g()}}}},213:function(t,e,n){"use strict";n.d(e,{p:function(){return a}});var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},i=Symbol("instances");function a(t){return function(e){var n=e;n[i]={};var a=Symbol("instance"),c=function(){var e,c=[].slice.call(arguments),u=t?JSON.stringify(t.apply(void 0,o([],r(c),!1))):a;return n.prototype!==this.constructor.prototype?((e=n.constructor).call.apply(e,o([this],r(c),!1)),this):(n[i][u]||(n[i][u]=new(n.bind.apply(n,o([void 0],r(c),!1)))),n[i][u])};return Object.defineProperties(c,Object.getOwnPropertyDescriptors(n)),c}}},1854:function(t,e,n){"use strict";n.d(e,{o:function(){return i},w:function(){return o}});var r=n(4353),o=function(t,e){return void 0===e&&(e={}),function(n,o,i){return{configurable:!0,enumerable:i.enumerable,get:function(){return Object.defineProperty(this,o,{configurable:!0,enumerable:i.enumerable,value:(0,r.Z)(i.value,t,e)}),this[o]}}}};function i(t,e){var n=0;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=Date.now();i-n>=e&&(t.apply(this,r),n=i)}}},2463:function(t,e,n){"use strict";n.d(e,{u:function(){return f}});var r,o,i,a,c=n(213),u=n(2074),l=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s={all:a=a||new Map,on:function(t,e){var n=a.get(t);n?n.push(e):a.set(t,[e])},off:function(t,e){var n=a.get(t);n&&(e?n.splice(n.indexOf(e)>>>0,1):a.set(t,[]))},emit:function(t,e){var n=a.get(t);n&&n.slice().map((function(t){t(e)})),(n=a.get("*"))&&n.slice().map((function(n){n(t,e)}))}},f=new(function(){function t(){this.cache={}}return t.prototype.emit=function(t,e){if(!s.all.get(t))return(this.cache[t]||(this.cache[t]=[])).push(e),void(this.cache[t]=this.cache[t].slice(-50));s.emit(t,e)},t.prototype.on=function(t,e){var n=this;return this.cache[t]&&this.cache[t].map((function(t){return e.call(n,t)})),s.on(t,e),{dispose:function(){return n.off(t,e)}}},t.prototype.off=function(t,e){s.off(t,e)},t.prototype.has=function(t){return Boolean(s.all.get(t))},t=l([(0,c.p)()],t)}());"undefined"!=typeof window&&(null===(r=window.addEventListener)||void 0===r||r.call(window,"online",(function(){return f.emit(u.GE.NETWORK_ONLINE)}))),"undefined"!=typeof window&&(null===(o=window.addEventListener)||void 0===o||o.call(window,"offline",(function(){return f.emit(u.GE.NETWORK_OFFLINE)}))),"undefined"!=typeof document&&(null===(i=document.addEventListener)||void 0===i||i.call(document,"visibilitychange",(function(){"visible"===document.visibilityState&&f.emit(u.GE.BACK_TO_FRONT)})))},2010:function(t,e,n){"use strict";n.d(e,{W:function(){return c},n:function(){return u}});var r="Symbol"in n.g&&"iterator"in Symbol;function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'.concat(t,'"'));return t}function i(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}var c=function(){function t(e){this.map={},this.map={},e instanceof t||"undefined"!=typeof Headers&&e instanceof Headers?e.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(e)?e.forEach((function(t){this.append(t[0],t[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}return t.prototype.append=function(t,e){t=o(t),e=i(e);var n=this.map[t];this.map[t]=n?"".concat(n,", ").concat(e):e},t.prototype.delete=function(t){delete this.map[o(t)]},t.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},t.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},t.prototype.set=function(t,e){this.map[o(t)]=i(e)},t.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),a(t)},t.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),a(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),a(t)},t}();function u(t){var e=new c;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n,r=t.split(":"),o=null===(n=r.shift())||void 0===n?void 0:n.trim();if(o){var i=r.join(":").trim();try{e.append(o,i)}catch(t){}}})),e}},4622:function(t,e,n){"use strict";n.d(e,{n:function(){return d}});var r,o=n(9741),i=n(8031),a=n(1964),c=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},u=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t.Success="Success",t.Error="Error",t.Timeout="Timeout",t.Abort="Abort"}(r||(r={}));var d=function(){function t(t){this.timer={},this.abortController={},this.requestTimeout=null==t?void 0:t.requestTimeout,this.responseTimeout=null==t?void 0:t.responseTimeout,(null==t?void 0:t.dependencies)&&(this.dependencies=t.dependencies)}return Object.defineProperty(t.prototype,"key",{get:function(){return this.constructor.key},enumerable:!1,configurable:!0}),t.prototype.doInterceptor=function(t,e,n){var i,a=this,c=(0,o.Z)(),u=!1,f=!1,d=n[0],p=function(t){u=!0,i(t)},h=function(){u||(d.lock(),null==p||p({success:f,reason:r.Abort}))};this.abortController[c]=h;var v=new Promise((function(t){i=t}));v.finally((function(){delete a.abortController[c]}));try{t.apply(void 0,s([],l(n),!1)).then((function(t){u||p({success:f=!0,result:t,reason:r.Success})})).catch((function(t){p({success:f,reason:r.Error,message:t.message})})),void 0!==e&&e>=0&&(this.timer[c]=setTimeout((function(){a.timer[c]=void 0,u||(d.lock(),p({success:f,reason:r.Timeout}))}),e))}catch(t){p({success:f,reason:r.Error,message:t.message})}return{abort:h,promise:v}},t.prototype.doRequestInterceptor=function(t){var e=new i.S(t);return this.doInterceptor(this.request,this.requestTimeout,[e])},t.prototype.doResponseInterceptor=function(t,e){var n=new a.J(t),r=new i.S(e);return r.lock(),this.doInterceptor(this.response,this.responseTimeout,[n,r])},t.prototype.request=function(t){return c(this,void 0,Promise,(function(){return u(this,(function(t){return[2,!0]}))}))},t.prototype.response=function(t,e){return c(this,void 0,Promise,(function(){return u(this,(function(t){return[2,!0]}))}))},t.prototype.dispose=function(){var t,e,n,r;try{for(var o=f(Object.keys(this.abortController)),i=o.next();!i.done;i=o.next()){var a=i.value;(0,this.abortController[a])()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.abortController={};try{for(var c=f(Object.keys(this.timer)),u=c.next();!u.done;u=c.next()){a=u.value;var l=this.timer[a];void 0!==l&&clearTimeout(l)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}this.timer={}},t.key="Interceptor",t}()},8031:function(t,e,n){"use strict";n.d(e,{S:function(){return a},V:function(){return i}});var r=n(2010),o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=function(){function t(t){this.headers=new r.W(null==t?void 0:t.headers),this.originURL=null==t?void 0:t.url,this.originBody=null==t?void 0:t.body,this.originMethod=null==t?void 0:t.method}return t.fromFetch=function(e,n){var r=new Request(e,n),o=new Headers;(e instanceof Request&&e.headers&&e.headers.forEach((function(t,e){o.append(e,t)})),null==n?void 0:n.headers)&&new Headers(n.headers).forEach((function(t,e){o.append(e,t)}));return new t({headers:o,url:r.url,body:r.body,method:r.method})},t.fromXHR=function(e,n){return new t({headers:null==n?void 0:n.headers,method:null==n?void 0:n.method,url:null==n?void 0:n.url,body:null==n?void 0:n.body})},Object.defineProperty(t.prototype,"url",{get:function(){return this.originURL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){return this.originMethod},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteURL",{get:function(){if(this.originURL)return new URL(this.originURL,location.href).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.originBody},enumerable:!1,configurable:!0}),t.prototype.applyOnFetch=function(t,e,n){var r=new Request(t,e),i=new Headers(r.headers);return this.headers.forEach((function(t,e){n?i.append(e,t):i.set(e,t)})),o(o({},e),{headers:i})},t.prototype.applyOnXHR=function(t){this.headers.forEach((function(e,n){t.setRequestHeader(n,e)}))},t.prototype.clone=function(){return new t({headers:this.headers})},t}(),a=function(){function t(t){this.locked=!1,this.content=t}return Object.defineProperty(t.prototype,"url",{get:function(){return this.content.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){return this.content.method},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteURL",{get:function(){return this.content.absoluteURL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.content.body},enumerable:!1,configurable:!0}),t.prototype.setHeader=function(t,e){this.locked||this.content.headers.set(t,e)},t.prototype.appendHeader=function(t,e){this.locked||this.content.headers.append(t,e)},t.prototype.getHeader=function(t){return this.content.headers.get(t)},t.prototype.headerEntries=function(){return this.content.headers.entries()},t.prototype.headerKeys=function(){return this.content.headers.keys()},t.prototype.headerValues=function(){return this.content.headers.values()},t.prototype.lock=function(){this.locked=!0},t.prototype.unlock=function(){this.locked=!1},t}()},1964:function(t,e,n){"use strict";n.d(e,{J:function(){return i},u:function(){return o}});var r=n(2010),o=function(){function t(t){this.headers=new r.W(null==t?void 0:t.headers),this.status=null==t?void 0:t.status}return t.fromFetch=function(e){return new t({headers:new Headers(e.headers),status:e.status})},t.fromXHR=function(e){var n=e.getAllResponseHeaders(),o=e.status;return new t({headers:(0,r.n)(n),status:o})},t.prototype.clone=function(){return new t({headers:this.headers})},t}(),i=function(){function t(t){this.locked=!1,this.content=t}return t.prototype.getHeader=function(t){return this.content.headers.get(t)},t.prototype.getStatus=function(){return this.content.status},t.prototype.headerEntries=function(){return this.content.headers.entries()},t.prototype.headerKeys=function(){return this.content.headers.keys()},t.prototype.headerValues=function(){return this.content.headers.values()},t.prototype.lock=function(){this.locked=!0},t.prototype.unlock=function(){this.locked=!1},t}()},9208:function(t,e,n){"use strict";n.d(e,{FD:function(){return bt},UE:function(){return ht},Ct:function(){return yt},YC:function(){return wt},BD:function(){return _t},pF:function(){return vt},m5:function(){return gt}});var r,o=n(5978),i=n(9538),a=n.n(i),c=n(3742),u=n(4118),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(){function t(){this.listeners=[],this.notifyingCount=0,this.needRemoveListenerCount=0,this.disposed=!1}return t.prototype.dispose=function(){this.disposed=!0,this.listeners=[]},t.prototype.addListener=function(t){var e=this;return this.listeners.push(t),function(){e.removeListener(t)}},t.prototype.removeListener=function(t){if(!this.disposed)for(var e=this.listeners.length,n=0;n<e&&!this.disposed;n++){if(this.listeners[n]===t){0===this.notifyingCount?this.listeners.splice(n,1):(this.listeners[n]=null,this.needRemoveListenerCount++);break}}},t.prototype.cleanNeedRemoveListener=function(){if(!this.disposed)for(var t=0;t<this.listeners.length;){this.listeners[t]?t++:this.listeners.splice(t,1)}},t.prototype.notifyListeners=function(t){this.internalNotifyListener(t)},t.prototype.activeListener=function(t,e){null==t||t(e)},t.prototype.internalNotifyListener=function(t){if(!this.disposed){this.notifyingCount++;for(var e=this.listeners.length,n=0;n<e&&!this.disposed;n++){var r=this.listeners[n];this.activeListener(r,t)}this.notifyingCount--,0===this.notifyingCount&&this.needRemoveListenerCount>0&&(this.cleanNeedRemoveListener(),this.needRemoveListenerCount=0)}},t}(),f=(function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}l(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.internalValue},set:function(t){this.internalSetValue(t),this.notifyListeners(t)},enumerable:!1,configurable:!0}),e.prototype.updateValue=function(t,e){e?this.internalSetValue(t):this.value=t},e.prototype.internalSetValue=function(t){this.internalValue!==t&&(this.internalValue=t)},e.prototype.addListener=function(e){return t.prototype.addListener.call(this,e)},e.prototype.removeListener=function(e){t.prototype.removeListener.call(this,e)}}(s),n(9782)),d=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function p(t,e){void 0===e&&(e=!1);var n="";return n=t instanceof Request?t.url:function(t){return t instanceof URL}(t)?t.href:t,e||(n=this.isString(n)?n.split("?")[0]:n),n}var h=n(8031),v=n(1964),y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},_=function(){function t(t){this.whiteList=null==t?void 0:t.whiteList,this.handleRequest=null==t?void 0:t.handleRequest,this.handleResponse=null==t?void 0:t.handleResponse,"undefined"!=typeof window&&window.fetch&&(this.revoke=this.patch())}return t.prototype.inWhiteList=function(t){return y(this,void 0,Promise,(function(){var e;return b(this,(function(n){return(e=this.whiteList)?Array.isArray(e)?[2,e.some((function(e){return e===t}))]:[2,e(t)]:[2,!1]}))}))},t.prototype.patch=function(){var t,e,n=this,r=!1,o=window.fetch,i=function(t,e){return y(n,void 0,void 0,(function(){var n,i,a,c,u,l=this;return b(this,(function(s){switch(s.label){case 0:return r?[2,o(t,e)]:(n=p(t,!0),[4,this.inWhiteList(n)]);case 1:return s.sent()?[2,o(t,e)]:(i=t,a=e,c=h.V.fromFetch(t,e),this.handleRequest?[4,this.handleRequest(c)]:[3,3]);case 2:c=s.sent(),u=c.applyOnFetch(t,e),i=t,a=u,s.label=3;case 3:return[2,o(i,a).then((function(t){return y(l,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return this.handleResponse?[4,this.handleResponse(v.u.fromFetch(t),c)]:[3,2];case 1:return e.sent(),[2,t];case 2:return[2,t]}}))}))}))]}}))}))};return t=o,e=i,Object.defineProperties(e,{name:Object.getOwnPropertyDescriptor(t,"name"),length:Object.getOwnPropertyDescriptor(t,"length"),toString:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.toString()}},toLocaleString:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.toLocaleString()}},valueOf:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.valueOf()}}}),window.fetch=i,function(){r=!0}},t.prototype.dispose=function(){var t;null===(t=this.revoke)||void 0===t||t.call(this),this.handleRequest=void 0,this.handleResponse=void 0,this.whiteList=void 0},t}(),g=n(2010),w=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},E=function(){function t(t){this.whiteList=null==t?void 0:t.whiteList,this.handleRequest=null==t?void 0:t.handleRequest,this.handleResponse=null==t?void 0:t.handleResponse,"undefined"!=typeof window&&window.XMLHttpRequest&&(this.revoke=this.patch())}return t.prototype.inWhiteList=function(t){return w(this,void 0,Promise,(function(){var e;return m(this,(function(n){return(e=this.whiteList)?Array.isArray(e)?[2,e.some((function(e){return e===t}))]:[2,e(t)]:[2,!1]}))}))},t.prototype.patch=function(){var t=window.XMLHttpRequest,e=!1,n=this;return window.XMLHttpRequest=new Proxy(t,{construct:function(t){if(e)return new t;var r,o,i,a=new t,c=new g.W,u=!1,l=function(t){return function(){for(var r=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];4!==this.readyState||e||u?null==t||t.call(this,o):w(r,void 0,void 0,(function(){var e,r;return m(this,(function(a){switch(a.label){case 0:return n.handleRequest?(e=v.u.fromXHR(this),[4,null===(r=n.handleResponse)||void 0===r?void 0:r.call(n,e,i)]):[3,2];case 1:a.sent(),a.label=2;case 2:return null==t||t.call(this,o),[2]}}))}))}};return new Proxy(a,{get:function(t,s,f){var d=t[s],p="";try{p=typeof d}catch(e){return t[s]}if(e)return"function"===p?function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return d.apply(this===f?t:this,e)}:t[s];try{if("setRequestHeader"===s)return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c.append(t[0],t[1])};if("open"===s)return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];o=e[0],r=e[1],t[s].apply(this===f?t:this,e)};if("send"===s)return function(){for(var d=this,p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];if(e)return c.forEach((function(t,e){a.setRequestHeader(e,t)})),void t[s].apply(this===f?t:this,p);w(d,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,n.inWhiteList(r)];case 1:return(u=e.sent())?(c.forEach((function(t,e){a.setRequestHeader(e,t)})),t[s].apply(this===f?t:this,p),[2]):n.handleRequest?(i=h.V.fromXHR(this,{headers:c,url:r,method:o,body:p[0]}),[4,n.handleRequest(i)]):[3,3];case 2:return(i=e.sent()).applyOnXHR(a),[3,4];case 3:c.forEach((function(t,e){a.setRequestHeader(e,t)})),e.label=4;case 4:return t.onreadystatechange||(t.onreadystatechange=l(null)),t[s].apply(this===f?t:this,p),[2]}}))}))}}catch(t){}return"function"!==p?t[s]:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return d.apply(this===f?t:this,e)}},set:function(t,n,r){return e?(t[n]=r,!0):"onreadystatechange"===n?(t[n]=l(r),!0):(t[n]=r,!0)}})}}),function(){e=!0}},t.prototype.dispose=function(){var t;null===(t=this.revoke)||void 0===t||t.call(this)},t}(),C=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},O=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},S=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},I=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},P=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function T(){return"undefined"!=typeof performance?performance.now():Date.now()}var k,A,R=function(){function t(t){var e=this;this.disposed=!1,this.listenable=new s,this.requestInterceptors=[],this.responseInterceptors=[],this.handleRequest=function(t){return C(e,void 0,void 0,(function(){return O(this,(function(e){switch(e.label){case 0:return[4,this.requestScheduler(t)];case 1:return e.sent(),[2,t]}}))}))},this.handleResponse=function(t,n){return C(e,void 0,void 0,(function(){return O(this,(function(e){switch(e.label){case 0:return[4,this.responseScheduler(t,n)];case 1:return e.sent(),[2]}}))}))},this.inWhiteList=function(t){var n=e.whiteList;return!!n&&(Array.isArray(n)?n.some((function(e){return e===t})):n(t))},this.whiteList=null==t?void 0:t.whiteList,this.fetchPatcher=new _({handleRequest:this.handleRequest,handleResponse:this.handleResponse,whiteList:this.inWhiteList}),this.xhrPatcher=new E({handleRequest:this.handleRequest,handleResponse:this.handleResponse,whiteList:this.inWhiteList})}return t.prototype.setInterceptors=function(t,e){t&&(this.requestInterceptors=I([],S(t),!1)),e&&(this.responseInterceptors=I([],S(e),!1))},t.prototype.appendInterceptors=function(t,e){var n,r;t&&(n=this.requestInterceptors).push.apply(n,I([],S(t),!1)),e&&(r=this.responseInterceptors).push.apply(r,I([],S(e),!1))},t.prototype.addListener=function(t){return this.listenable.addListener(t)},t.prototype.requestScheduler=function(t){return C(this,void 0,Promise,(function(){var e,n,r;return O(this,(function(o){switch(o.label){case 0:return this.requestInterceptors.length?(e=[],n=I([],S(this.requestInterceptors),!1),r=T(),[4,this.runScheduler("Request",[t],e,n)]):[2];case 1:return o.sent(),this.listenable.notifyListeners({eventName:"SchedulerDone",data:{type:"request",duration:T()-r,done:e.map((function(t){return t.key})),pending:n.map((function(t){return t.key}))}}),[2]}}))}))},t.prototype.responseScheduler=function(t,e){return C(this,void 0,Promise,(function(){var n,r,o;return O(this,(function(i){switch(i.label){case 0:return this.responseInterceptors.length?(n=[],r=I([],S(this.responseInterceptors),!1),o=T(),[4,this.runScheduler("Response",[t,e],n,r)]):[2];case 1:return i.sent(),this.listenable.notifyListeners({eventName:"SchedulerDone",data:{type:"response",duration:T()-o,done:n.map((function(t){return t.key})),pending:r.map((function(t){return t.key}))}}),[2]}}))}))},t.prototype.runScheduler=function(t,e,n,r){var o;return C(this,void 0,void 0,(function(){var i,a,c,u,l,s,f,d,p,h,v,y,b,_,g,w,m,E,C,k,A,R,N,L,D,M,x=this;return O(this,(function(O){if(!r.length)return[2];a="do".concat(t,"Interceptor"),c=t.toLowerCase(),u=new Promise((function(t){return i=t})),l=[],s={};try{for(f=P(n),d=f.next();!d.done;d=f.next())k=d.value,s[k.key]=!0}catch(t){A={error:t}}finally{try{d&&!d.done&&(R=f.return)&&R.call(f)}finally{if(A)throw A.error}}for(p=r.length-1;p>=0;){if(k=r[p],null==(h=null===(o=k.dependencies)||void 0===o?void 0:o[c])?void 0:h.length){v=!0;try{for(N=void 0,y=P(h),b=y.next();!b.done;b=y.next())if("string"==typeof(_=b.value)){if(!s[_]){v=!1;break}}else if(!s[_.key]){v=!1;break}}catch(t){N={error:t}}finally{try{b&&!b.done&&(L=y.return)&&L.call(y)}finally{if(N)throw N.error}}v&&(l.push(k),r.splice(p,1))}else l.push(k),r.splice(p,1);p--}if(!l.length)return[2];g=0,w=function(){g===l.length&&(null==i||i())},m=function(o){var i=T();o[a].apply(o,I([],S(e),!1)).promise.then((function(a){var u=a.success,l=a.reason,s=a.result,f=a.message,d=T()-i;x.listenable.notifyListeners({eventName:"InterceptorFinish",data:{key:o.key,type:c,success:u,duration:d,reason:l,message:f}}),u?(n.push(o),!0===s&&x.runScheduler(t,e,n,r).then((function(){g++,w()}))):(g++,w())}))};try{for(E=P(l),C=E.next();!C.done;C=E.next())k=C.value,m(k)}catch(t){D={error:t}}finally{try{C&&!C.done&&(M=E.return)&&M.call(E)}finally{if(D)throw D.error}}return[2,u]}))}))},t.prototype.dispose=function(){this.disposed=!0,this.listenable.dispose(),this.fetchPatcher.dispose(),this.xhrPatcher.dispose()},t}(),N=n(3788),L=n(2463),D=n(4622),M=n(9936),x=n(2074),U=n(7899),F=n(5958),j=n(5713),B=n(4056),G=n(9051),H=n(2442);!function(t,e,n){function r(t,e){var n=parseInt(t.slice(e,e+2),16);return n>>>7==0?[1,n]:n>>>6==2?(n=(63&n)<<8,[2,n+=parseInt(t.slice(e+2,e+4),16)]):(n=(63&n)<<16,[3,n+=parseInt(t.slice(e+2,e+6),16)])}var o,i=0,a=[],c=[];for(o=0;o<4;++o)i+=(3&parseInt(t.slice(8+2*o,10+2*o),16))<<2*o;var u=parseInt(t.slice(16,24),16),l=2*parseInt(t.slice(32,40),16);for(o=40;o<l+40;o+=2)a.push(parseInt(t.slice(o,o+2),16));var s=l+40,f=parseInt(t.slice(s,s+4),16);for(s+=4,o=0;o<f;++o){var d=r(t,s);s+=2*d[0];for(var p="",h=0;h<d[1];++h){var v=r(t,s);p+=String.fromCharCode(i^v[1]),s+=2*v[0]}c.push(p)}e.p=null,function t(e,n,r,o,i){var u,l,s,f,d,p=-1,h=[],v=[0,null],y=null,b=[n];for(l=Math.min(n.length,r),s=0;s<l;++s)b.push(n[s]);b.p=o;for(var _=[];;)try{switch(a[e++]){case 0:h[++p]=!0;break;case 34:h[++p]=!1;break;case 14:h[++p]=null;break;case 36:u=a[e++],h[++p]=u<<24>>24;break;case 46:u=(a[e]<<8)+a[e+1],e+=2,h[++p]=u<<16>>16;break;case 68:u=((u=((u=a[e++])<<8)+a[e++])<<8)+a[e++],h[++p]=(u<<8)+a[e++];break;case 58:u=(a[e]<<8)+a[e+1],e+=2,h[++p]=c[u];break;case 57:h[++p]=void 0;break;case 42:h[++p]=i;break;case 70:u=(a[e]<<8)+a[e+1],e+=2,p=p-u+1,l=h.slice(p,p+u),h[p]=l;break;case 65:h[++p]={};break;case 30:u=(a[e]<<8)+a[e+1],e+=2,l=c[u],s=h[p--],h[p][l]=s;break;case 5:for(l=a[e++],s=a[e++],f=b;l>0;--l)f=f.p;h[++p]=f[s];break;case 21:u=(a[e]<<8)+a[e+1],e+=2,l=c[u],h[p]=h[p][l];break;case 8:l=h[p--],h[p]=h[p][l];break;case 59:for(l=a[e++],s=a[e++],f=b;l>0;--l)f=f.p;f[s]=h[p--];break;case 9:l=h[p--],s=h[p--],f=h[p--],s[l]=f;break;case 54:for(l=a[e++],s=a[e++],f=b,f=b;l>0;--l)f=f.p;h[++p]=f,h[++p]=s;break;case 39:l=h[p--],h[p]+=l;break;case 63:l=h[p--],f=(s=h[p--])[l]--,h[++p]=f;break;case 74:l=h[p--],h[p]=h[p]===l;break;case 73:l=h[p--],h[p]=h[p]!==l;break;case 40:l=h[p--],h[p]=h[p]>l;break;case 51:h[p]=!h[p];break;case 32:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,h[p]?--p:e+=u;break;case 64:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,h[p]?e+=u:--p;break;case 29:l=h[p--],(s=h[p--])[l]=h[p];break;case 53:h[p]=void 0;break;case 12:h[p]=typeof h[p];break;case 31:u=a[e++],l=h[p--],(s=function t(){var e=t._u,n=t._v;return e(n[0],arguments,n[1],n[2],this)})._v=[l,u,b],s._u=t,h[++p]=s;break;case 47:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,(l=_[_.length-1])[1]=e+u;break;case 56:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,(l=_[_.length-1])&&!l[1]?(l[0]=3,l.push(e)):_.push([1,0,e]),e+=u;break;case 4:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,_.push([2,0,e]),e+=u;break;case 27:throw l=h[p--];case 16:if(s=(l=_.pop())[0],f=v[0],1===s)e=l[1];else if(0===s)if(0===f)e=l[1];else{if(1!==f)throw v[1];if(!y)return v[1];e=y[1],i=y[2],b=y[3],_=y[4],h[++p]=v[1],v=[0,null],y=y[0]}else e=l[2],l[0]=0,_.push(l);break;case 7:for(l=h[p--],s=null;f=_.pop();)if(2===f[0]||3===f[0]){s=f;break}if(s)v=[1,l],e=s[2],s[0]=0,_.push(s);else{if(!y)return l;e=y[1],i=y[2],b=y[3],_=y[4],h[++p]=l,v=[0,null],y=y[0]}break;case 62:p-=u=a[e++],s=h.slice(p+1,p+u+1),l=h[p--],f=h[p--],l._u===t?(l=l._v,y=[y,e,i,b,_],e=l[0],null==f&&(f=function(){return this}()),i=f,(b=[s].concat(s)).length=Math.min(l[1],u)+1,b.p=l[2],_=[]):(d=l.apply(f,s),h[++p]=d);break;case 75:e+=2+(u=(u=(a[e]<<8)+a[e+1])<<16>>16);break;case 13:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,(l=h[p--])||(e+=u);break;case 10:--p;break;case 45:l=h[p],h[++p]=l;break;default:throw new Error("ioe")}}catch(t){for(v=[0,null];(u=_.pop())&&!u[0];);if(!u){t:for(;y;){for(l=y[4];u=l.pop();)if(u[0])break t;y=y[0]}if(!y)throw t;e=y[1],i=y[2],b=y[3],_=y[4],y=y[0]}1===(l=u[0])?(e=u[2],u[0]=0,_.push(u),h[++p]=t):2===l?(e=u[2],u[0]=0,_.push(u),v=[3,t]):(e=u[3],u[0]=2,_.push(u),h[++p]=t)}}(u,[],0,e,n)}("504B0101c9d62158000002b25b21d5c8000003010502000c3a00014a20000a050001050200150002083b0003050003330d0004050001070500032d1500030500013e013b00044600003b000604004104000e0500070d00070500071500041b102f002c0500052000070500051500053320000b0500043a0006083600031d0d000d0500032d1500030500043e010a101038000e3b0008410500081e00043b0007102f003c0500022400354a4000073600023f2400282000110500042d1500073e003600051d150005330d00130500062d1500080500051500093e010a4bffc510050006070502012d15000a0501022d15000b44000001281f02413e023e013b00020e050208050002050002273e013b00030e0502020500023e013b00043a000d2d15000e0500033a000f3e022d15000e0500043e013b0005050005070501012d15000c0500023e013b0003050003330d00040500010705000305000105000209050001070500022d1500103e002e00c84a40001c0500022d1500103e002e01934a20000c0500022d1500110502123e01330d000200073a000d3b00033800043b000c102f00160e0502030500012d15000c05020e3e013e013b000310050003330d000222070e0501010500030e4a4000070500032400354a0d00062400354b000c0500032d1500123a000f3e0124023e023b00040500042400083b00050500042401083b0006050006330d000222073800063b000d2207102f000d0e0502040500063e013b0007100e050208050007050007273e01050005493b00080500080d000222070e0502090500073e013b00090502052d1500130500093e012d15000b44000002761f02413e023b000a0501032d150015440000028e1f013e013b000b05000b0d000222070007050109050002080500010500022d1500143e0009050001070501012d15000c0500013e012000140501012d15000c0500013e0105010a0500010849072a2000042a15000040000744000000001f023b000105010b05010d05010f05011005010c4600053b000205011105010705010a4600033b000344000000d01f013b011344000001501f023b0114390700160646466b7c787d087f6c777a6d70767708706d7c6b786d766b047a787575057c6b6b766b047d76777c066b7c6d6c6b7704777c616d04696c6a71056f78756c7c096a6d6b70777e707f60066b7c7d6c7a7c037e7c6d00067a76777a786d023f3f097e7c6d4a6d786d6c6a097e7c6d517c787d7c6b056a6975706d04727c606a0b6d7655766e7c6b5a786a7c046a76747c",{0:Symbol,1:JSON,get 2(){return btoa},3:decodeURIComponent,get 4(){return atob},5:Object,get 6(){return G._},get 7(){return j.d},get 8(){return a()},get 9(){return U.a},get 10(){return H.sb},get 11(){return H.zg},get 12(){return H.eM},get 13(){return H.Ny},get 14(){return H.dE},get 15(){return H.EG},get 16(){return H._E},get 17(){return H.qw},get 18(){return H.oX},get 19(){return k},set 19(t){k=t},get 20(){return A},set 20(t){A=t}},void 0);var W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},V=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},K=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Y=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},J='{"actions":[{"name":"'.concat(N.Jg.SignatureFailure,'","params":{}}]}'),Z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dependencies={request:["LarkGatewayInterceptor"]},e.request=function(t){return q(e,void 0,Promise,(function(){var e,n,r,i,a,l,s,f;return V(this,(function(d){switch(d.label){case 0:return[4,this.doNotIntercept(t.absoluteURL)];case 1:return d.sent()?[2,!0]:(t.setHeader(H.Ny,encodeURIComponent(c.u.options.passportId)),t.setHeader(H.zg,encodeURIComponent(H.Gd.LSC_VERSION_HEADER)),o.Ru||t.setHeader(H.EG,encodeURIComponent(H.Gd.TERMINAL_HEADER)),e=(0,u.ej)(H.cp),[4,c.u.getConfig()]);case 2:return n=null===(l=null===(a=d.sent())||void 0===a?void 0:a.featureSwitch)||void 0===l?void 0:l.grant_token,e&&n&&t.setHeader(H.CM,e),[4,c.u.getConfig()];case 3:return r=null===(f=null===(s=d.sent())||void 0===s?void 0:s.featureSwitch)||void 0===f?void 0:f.signature_check_frontend,!o.Ru&&r&&(i=this.getToken(t),t.setHeader(H.qw,i)),[2,!0]}}))}))},e.response=function(t,n){return q(e,void 0,Promise,(function(){var e,r,o,i,a,u,l,s,f,d,p,h,v,y,b;return V(this,(function(_){switch(_.label){case 0:return[4,this.doNotIntercept()];case 1:return _.sent()?[2,!0]:[4,c.u.getConfig()];case 2:return e=_.sent(),r=null==e?void 0:e.securityWebDomain,o=n.url.toString(),e?(i=t.getHeader(H.oX),a=t.getHeader(H.sb),[4,this.validateToken(t,n)]):(this.error("".concat(n.url.toString())),[2,!0]);case 3:return!_.sent()&&(a=J),u=(0,H.JT)(a),l=u.actions,s=u.decision,f=null===(y=l[0])||void 0===y?void 0:y.name,d=c.u.options.passportId,p=c.u.options.language,h={appid:d,language:p,redirectUrl:(null===(b=null===window||void 0===window?void 0:window.location)||void 0===b?void 0:b.href)||"",actions:l},v=function(){(0,B.Z)({urlParams:h,securityWebDomain:r,lscCode:i,lscDecision:a,decision:s,actions:l,appId:d,url:o})},[N.Jg.SignatureFailure].includes(f)&&r?(F.j4.beaconEvent("cond_access_server_decision",{type:"success",code:i,action_name:f}),L.u.has(x.ST.SIGNATURE_FAILURE)?(L.u.emit(x.ST.SIGNATURE_FAILURE,{lscCode:i,lscDecision:a,appId:d,doRedirect:function(){return(0,B.Z)({urlParams:h,securityWebDomain:r,lscCode:i,lscDecision:J,decision:(0,U.a)(J),appId:d,url:o})}}),[2,!0]):((0,B.Z)({urlParams:h,securityWebDomain:r,lscCode:i,lscDecision:J,decision:(0,U.a)(J),appId:d,url:o}),[2,!1])):i?0===l.length?(F.j4.send("cond_access_server_decision",{type:"error",code:i}),this.error("".concat(n.url.toString(),":").concat(M.Rm.NO_ACTION_IN_RESPONSE_HEADER,":").concat(a)),[2,!0]):[N.Jg.Network,N.Jg.MFA,N.Jg.DeviceState,N.Jg.DeviceOwn,N.Jg.ACCESS_CONTROL_ACTION_COMMON].includes(f)&&i===j.d&&r?(F.j4.beaconEvent("cond_access_server_decision",{type:"success",code:i,action_name:f}),L.u.has(x.ST.CONDITIONAL_ACCESS)?(L.u.emit(x.ST.CONDITIONAL_ACCESS,{lscCode:i,lscDecision:a,appId:d,doRedirect:v}),[2,!0]):(v(),[2,!1])):[2,!0]:[2,!0]}}))}))},e}return W(e,t),e.prototype.getToken=function(t){var e=t.headerEntries();return k(new Headers(Y([],K(e),!1)))},e.prototype.validateToken=function(t,e){var n;return q(this,void 0,Promise,(function(){var r,o,i;return V(this,(function(a){switch(a.label){case 0:return!e.url.toString().includes("lark/scs/compliance/ping")||e.url.toString().includes("ping_tenant_restriction")?[2,!0]:[4,c.u.getConfig()];case 1:return r=a.sent(),(null===(n=null==r?void 0:r.featureSwitch)||void 0===n?void 0:n.signature_check_frontend)?(o=t.headerEntries(),i=e.headerEntries(),[2,A(new Headers(Y(Y([],K(o),!1),K(i),!1)),t)]):[2,!0]}}))}))},e.prototype.doNotIntercept=function(t){return q(this,void 0,Promise,(function(){var e;return V(this,(function(n){switch(n.label){case 0:return[4,c.u.getConfig()];case 1:return((e=n.sent())||(null==t?void 0:t.includes(window.location.host)))&&e.sdkSwitch?[2,!1]:[2,!0]}}))}))},e.prototype.error=function(t,e){void 0===e&&(e=""),(0,F.DO)({funcName:"",args:[],error:void 0,type:"error",cause:t,stack:e})},e.key="ConditionalAccessInterceptor",e}(D.n),Q=n(213),X=n(2345),z=n(1720),$=n(4455),tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},nt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},rt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},ot=function(t){function e(){var e=t.call(this)||this;return e.initTimer(),e.onVisibilityChange(),e}var n;return tt(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return new n},enumerable:!1,configurable:!0}),e.prototype.initTimer=function(t){var e;return nt(this,void 0,Promise,(function(){var n,r;return rt(this,(function(o){switch(o.label){case 0:return[4,c.u.getConfig()];case 1:return n=o.sent(),r=null===(e=null==n?void 0:n.featureParams)||void 0===e?void 0:e.heartbeatInterval,this.addTimer({handler:this.ping.bind(this),interval:t||r||z.l3.interval,immediate:!0}),[2]}}))}))},e.prototype.ping=function(){var t,e;return nt(this,void 0,void 0,(function(){var n,r,o,i,a;return rt(this,(function(u){switch(u.label){case 0:return[4,c.u.getConfig()];case 1:return n=u.sent(),r=null==n?void 0:n.securityApiDomain,o=null===(t=null==n?void 0:n.featureSwitch)||void 0===t?void 0:t.heartbeat,i=null===(e=null==n?void 0:n.featureParams)||void 0===e?void 0:e.heartbeatInterval,n&&r?this.heartbeatOn!==o&&void 0!==this.heartbeatOn?(this.clearAllTimers(),a=o?i:36e5,this.initTimer(a),this.heartbeatOn=o,[2]):(this.heartbeatOn=o,this.heartbeatOn?((0,X.q)(r),[2]):[2]):[2]}}))}))},e=n=et([(0,Q.p)()],e)}($.N),it=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},at=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},ct=[/\/settings\/v3/,/\/monitor_browser\/collect\/batch/,/\/space\/api\/v2\/sheet\/sub_block/,/\/space\/api\/v2\/sheet\/client_vars/,/\/client_vars/,/\/space\/api\/v2\/sheet\/formula_cache/,/\/space\/api\/suite\/permission\/user\/mget/,/\/space\/api\/suite\/permission\/document\/actions\/state/,/\/vc\/api\/custom_level\/first_screen/,/\/space\/api\/comment\/message_box\/get_init_data/,/\/space\/api\/ccm_setting\/get/,/\/space\/api\/user/,/.*\.js/,/\/lark\/security\/internal\/terminal\/intranet\/token/,/\/lark\/security\/terminal\/intranet\/service_info/];function ut(t,e){return void 0===t&&(t=[]),t.some((function(t){return function(t,e){return void 0===e&&(e=""),new RegExp(t.replace(/[\[\]\\{}()+*?.$^|]/g,(function(t){return"\\".concat(t)})),e)}(t.pattern,t.flags).test(e)}))}function lt(t){return it(this,void 0,Promise,(function(){var e,n,r,o,i,a,u,l;return at(this,(function(s){switch(s.label){case 0:try{e=new URL(t,window.location.origin).href}catch(n){e=t}return ct.some((function(t){return t.test(e)}))?[2,!0]:[4,c.u.getConfig()];case 1:return(n=s.sent())?(r=n.whiteList,i=(o=r||{}).userAgent,a=o.locationSearch,ut(i,null===navigator||void 0===navigator?void 0:navigator.userAgent)||ut(a,null===location||void 0===location?void 0:location.search)?[2,!0]:(u=function(t){var e=c.u.options.baseDomain,n=t.whiteList||{},r=n.requestUrl,o=n.shouldInterceptUrl,i=null==r?void 0:r.map((function(t){return{pattern:t.pattern.replace(/{{baseDomain}}/,e),flags:t.flags}}));return{shouldInterceptUrls:null==o?void 0:o.map((function(t){return{pattern:t.pattern.replace(/{{baseDomain}}/,e),flags:t.flags}})),shouldnotInterceptUrls:i}}(n),l=u.shouldnotInterceptUrls,[2,!ut(u.shouldInterceptUrls,e)||ut(l,e)])):[2,!0]}}))}))}function st(t){return it(this,void 0,Promise,(function(){var e,n;return at(this,(function(r){switch(r.label){case 0:return e=function(t){if(!(0,f.Z)(t))return!1;var e=d(t.split(":"),2),n=e[0];return!e[1]||"http"===n||"https"===n}(t),(n=!e)?[3,2]:[4,lt(t)];case 1:n=r.sent(),r.label=2;case 2:return[2,n]}}))}))}var ft,dt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},pt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},ht=function(){var t,e;try{return(null===(e=null===(t=c.u.getConfigSync())||void 0===t?void 0:t.featureSwitch)||void 0===e?void 0:e.disableInterceptor)?null:(ft||(ft=new R({whiteList:st})),ft)}catch(t){return null}},vt=function(){var t;new ot;var e=new Z;null===(t=ht())||void 0===t||t.setInterceptors([e],[e])},yt=function(t){var e,n,r,i=t.baseDomain,l=null===(r=null===(n=c.u.getConfigSync())||void 0===n?void 0:n.featureSwitch)||void 0===r?void 0:r.terminal_new,s=((e={})[H._E]=encodeURIComponent(l?o.rD:o.n5),e[H.eM]=encodeURIComponent(o.oU),e),f=JSON.stringify(s),d=a()(f+f),p=btoa(f),h="".concat(d,"&&").concat(p);s[H.qw]=h,Object.keys(s).forEach((function(t){var e=s[t];(0,u.d8)({key:t,value:e,domain:i})}))},bt=function(t){var e=t.baseDomain;[H._E,H.eM,H.qw].forEach((function(t){return(0,u.kT)({key:t,domain:e})}))},_t=function(){n.e(82).then(n.bind(n,5440)).then((function(t){return new(0,t.LoginRestriction)}))},gt=function(){return dt(void 0,void 0,Promise,(function(){var t,e;return pt(this,(function(r){switch(r.label){case 0:return[4,c.u.getConfig()];case 1:return t=r.sent(),(null===(e=null==t?void 0:t.featureSwitch)||void 0===e?void 0:e.web_did_check)&&n.e(303).then(n.bind(n,5322)).then((function(t){return new(0,t.WebdidSecurityCheck)})),[2]}}))}))},wt=function(){return dt(void 0,void 0,Promise,(function(){var t,e;return pt(this,(function(r){switch(r.label){case 0:return[4,c.u.getConfig()];case 1:return t=r.sent(),(null===(e=null==t?void 0:t.featureSwitch)||void 0===e?void 0:e.web_fingerprint_collect)&&n.e(303).then(n.bind(n,9158)).then((function(t){return new(0,t.Fingerprint)})),[2]}}))}))}},2442:function(t,e,n){"use strict";n.d(e,{CM:function(){return u},DH:function(){return E},EG:function(){return s},Gd:function(){return a},Ig:function(){return x},JT:function(){return i},Ny:function(){return f},Pj:function(){return M},Rg:function(){return _},T9:function(){return C},UA:function(){return m},Wh:function(){return N},_E:function(){return p},bH:function(){return k},cp:function(){return l},cy:function(){return U},dE:function(){return P},e8:function(){return A},eM:function(){return h},h7:function(){return b},md:function(){return g},o7:function(){return y},oX:function(){return I},pX:function(){return T},qA:function(){return v},qw:function(){return d},sb:function(){return S},sh:function(){return O},w5:function(){return L},xD:function(){return R},xH:function(){return w},zg:function(){return c},zk:function(){return D}});var r=n(3788),o=n(7899),i=function(t){var e=(0,o.a)(t),n=(null==e?void 0:e.actions)||[],i=null==e?void 0:e.containerType;return e&&!(null==e?void 0:e.effect)&&(e.effect=r.Qm.Deny),{decision:e,actions:n,containerType:i}},a={TERMINAL_HEADER:"web",LSC_VERSION_HEADER:"1"},c="x-lsc-version",u="x-lsc-grant-token",l="grant-token-fe",s="x-lsc-terminal",f="x-lsc-bizid",d="x-lsc-token",p="x-lgw-terminal-type",h="x-lgw-os-type",v="x-lgw-app-version",y="x-lgw-device-id",b="x-lgw-os-version",_="x-lgw-device-type",g="x-lgw-install-id",w="x-lgw-locale",m="x-lgw-app-id",E="x-lgw-user-id",C="x-lgw-sec-token",O="x-lgw-csrf-token",S="x-lsc-decision",I="x-lsc-code",P="x-lsc-resp-token",T="x-lsc-source-ip",k="x-passport-dpop",A="x-passport-dpop-certificate",R="x-passport-dpop-decision",N="lark-policy-sdk-crypto-store",L="lmp_crypto_cache",D="lmp_key_pair_v2",M="lmp_certificate_key",x=403,U="lgw_csrf_token"},5533:function(t,e,n){"use strict";n.d(e,{B:function(){return a}});var r=n(3742),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},a=function(){return function(t,e,n){var a=n.value;n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!r.u.hasInited())throw Error("Please use policySdk.init({...}) first !");return a.apply(this,i([],o(t),!1))}}}},3742:function(t,e,n){"use strict";n.d(e,{u:function(){return A}});var r,o=n(3031),i=n(9972),a=n(4821),c=n(2074),u=n(6379),l=n(4720),s=n(213),f=n(2463),d=n(9208),p=n(5978),h=n(5958),v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},_=function(t){return y(void 0,void 0,Promise,(function(){var e,n,r,o,i,a,u,l,s,f,d,y,_,g,w,m,E,C,O,S,I,P,T,k,R,N,L,D,M,x,U,F,j,B,G,H,W,q,V,K,Y,J,Z,Q,X,z,$,tt,et,nt,rt,ot,it,at,ct,ut,lt,st,ft,dt,pt,ht,vt,yt,bt,_t,gt,wt,mt,Et,Ct,Ot,St,It;return b(this,(function(b){switch(b.label){case 0:if(n=(e=t||{}).settingDomain,r=e.passportId,o=e.devSdkConfig,i=e.env,!n)throw Error("empty settingDomain");return a=function(t,e){void 0===e&&(e="");var n=p.Ru?"pc":"web";return t||(0,h.DO)({error:"getConfigApiUrl: settingDomain not available (passportId: ".concat(e,", platform: ").concat(n,")"),type:"Error",funcName:"getConfigApiUrl",args:[]}),"https://".concat(t,"/settings/v3/?platform=").concat(n,"&app_id=").concat(e,"&version=5.7.0&tags=policy_sdk_config&fg_tags=policy_sdk_config")}(n,r),i===c.qA.development&&o?(u=o,[3,5]):[3,1];case 1:return A.requestMethod?[3,5]:[3,2];case 2:return[4,fetch(a,{credentials:"include"})];case 3:return[4,b.sent().json()];case 4:u=b.sent(),b.label=5;case 5:if(l=null===(L=null===(N=null===(R=null==u?void 0:u.data)||void 0===R?void 0:R.biz_domain_config)||void 0===N?void 0:N.security_and_compliance)||void 0===L?void 0:L[0],s=null===(x=null===(M=null===(D=null==u?void 0:u.data)||void 0===D?void 0:D.biz_domain_config)||void 0===M?void 0:M.security_login_restriction)||void 0===x?void 0:x[0],f=null===(j=null===(F=null===(U=null==u?void 0:u.data)||void 0===U?void 0:U.biz_domain_config)||void 0===F?void 0:F.passport_accounts)||void 0===j?void 0:j[0],d=null===(H=null===(G=null===(B=null==u?void 0:u.data)||void 0===B?void 0:B.biz_domain_config)||void 0===G?void 0:G.passport_page)||void 0===H?void 0:H[0],y=null===(V=null===(q=null===(W=null==u?void 0:u.data)||void 0===W?void 0:W.biz_domain_config)||void 0===q?void 0:q.passport_accounts_nomg)||void 0===V?void 0:V[0],_=null===(J=null===(Y=null===(K=null==u?void 0:u.data)||void 0===K?void 0:K.biz_domain_config)||void 0===Y?void 0:Y.security_web)||void 0===J?void 0:J[0],g=null===(X=null===(Q=null===(Z=null==u?void 0:u.data)||void 0===Z?void 0:Z.biz_domain_config)||void 0===Q?void 0:Q.scs_data)||void 0===X?void 0:X[0],w=null===(tt=null===($=null===(z=null==u?void 0:u.data)||void 0===z?void 0:z.biz_domain_config)||void 0===$?void 0:$.lgw_csrf_domain)||void 0===tt?void 0:tt[0],m=null===(et=null==u?void 0:u.data)||void 0===et?void 0:et.sec_sdk_web,E=null===(ot=null===(rt=null===(nt=null==u?void 0:u.data)||void 0===nt?void 0:nt.biz_domain_config)||void 0===rt?void 0:rt.suite_bdmssdk)||void 0===ot?void 0:ot[0],C=null===(ct=null===(at=null===(it=null==u?void 0:u.data)||void 0===it?void 0:it.session_dpop)||void 0===at?void 0:at.path)||void 0===ct?void 0:ct.whiteList,O=null===(st=null===(lt=null===(ut=null==u?void 0:u.data)||void 0===ut?void 0:ut.session_dpop)||void 0===lt?void 0:lt.path)||void 0===st?void 0:st.blackList,S=null===(pt=null===(dt=null===(ft=null==u?void 0:u.data)||void 0===ft?void 0:ft.biz_domain_config)||void 0===dt?void 0:dt.applink)||void 0===pt?void 0:pt[0],I=null===(yt=null===(vt=null===(ht=null==u?void 0:u.data)||void 0===ht?void 0:ht.biz_domain_config)||void 0===vt?void 0:vt.help_center)||void 0===yt?void 0:yt[0],P=null===(gt=null===(_t=null===(bt=null==u?void 0:u.data)||void 0===bt?void 0:bt.biz_domain_config)||void 0===_t?void 0:_t.sec_slardar_cdn)||void 0===gt?void 0:gt[0],T=null===(Et=null===(mt=null===(wt=null==u?void 0:u.data)||void 0===wt?void 0:wt.biz_domain_config)||void 0===mt?void 0:mt.sec_slardar_report)||void 0===Et?void 0:Et[0],k=null===(St=null===(Ot=null===(Ct=null==u?void 0:u.data)||void 0===Ct?void 0:Ct.biz_domain_config)||void 0===Ot?void 0:Ot.sec_tea_report)||void 0===St?void 0:St[0],!l)throw Error("empty api domain");return[2,v(v({},null===(It=null==u?void 0:u.data)||void 0===It?void 0:It.policy_jssdk),{securityApiDomain:l,securityWebDomain:_,securityDataDomain:g,passportAccountsDomain:f,passportAccountsDomainNoMg:y,securityLoginRestrictionApiDomain:s,csrfApiDomain:w,secSdkWeb:m,bdmsSdkApiDomain:E,sessionDPoP:{whiteList:C,blackList:O},applink:S,helpcenter:I,domains:{passport_page:d,slardar_cdn:P,slardar_report:T,tea_report:k}})]}}))}))},g=n(9936),w=n(1720),m=n(4455),E=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),C=function(t){function e(){var e=t.call(this)||this;return e.onVisibilityChange(),e}return E(e,t),e}(m.N),O=n(2515),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},P=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},T=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},k=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n,r;return S(e,t),n=e,e.prototype.setRequestMethod=function(t){this.requestMethod=t},Object.defineProperty(e.prototype,"options",{get:function(){return this._options?I({},this._options):{}},enumerable:!1,configurable:!0}),e.prototype.handleOnOptionsChange=function(t,e){(null==e?void 0:e.userId)&&(null==t?void 0:t.userId)!==e.userId&&((0,O.I)(e.userId),(0,h.e3)().then((function(t){t.updateConfig({userId:e.userId}),t.eventInfoWithLog("config update",{})})),f.u.emit(c.GE.SDK_LOGIN,e.userId),(null==t?void 0:t.userId)&&f.u.emit(c.GE.TENANT_SWITCH,e))},Object.defineProperty(e,"instance",{get:function(){return new n},enumerable:!1,configurable:!0}),e.prototype.hasInited=function(){return Object.keys(this.options).length>0},e.prototype.initOptions=function(t){return!this.hasInited()&&(this._options=t,!0)},e.prototype.setOptions=function(t){if(!this.hasInited())throw Error("Please initOptions first!");return this._options=I(I({},this._options),t),I({},this._options)},e.prototype.queryInfos=function(){var t=this;this.getConfig().then((function(e){var n;(null===(n=null==e?void 0:e.featureSwitch)||void 0===n?void 0:n.signature_check_frontend)?(0,d.Ct)(t.options):(0,d.FD)(t.options)}))},e.prototype.setupTimers=function(){return T(this,void 0,void 0,(function(){var t,e,n,r,o,i=this;return k(this,(function(a){switch(a.label){case 0:return A.clearAllTimers(),[4,this.getConfig()];case 1:return t=a.sent(),f.u.emit(c.GE.SDK_COLD_BOOST,t),e=(null==t?void 0:t.featureParams)||{},n=e.policy_engine_fetch_policy_interval,r=e.queryConfigInterval,this.addTimer({handler:function(){return i.queryConfig()},interval:r||w.sI.interval}),o=n||w.sI.interval,this.addTimer({handler:function(){return f.u.emit(c.GE.STATIC_POINTCUT_POLLING)},interval:o}),[2]}}))}))},e.prototype.getConfig=function(){var t=this;return u.g.getCacheAsync({query:function(){return t.queryConfig()},partition:this.options.userId}).then((function(t){if(t){var e=t.securityApiDomain;if(!e)throw Error(g.cl.GET_SECURITY_API_DOMAIN_ERROR);(0,i.Rv)({baseURL:e.startsWith("http")?e:"https://".concat(e)}),(0,a.gY)({baseURL:e.startsWith("http")?e:"https://".concat(e)})}return t}))},e.prototype.getConfigSync=function(){return u.g.getCache(this.options.userId)||null},e.prototype.queryConfig=function(){return T(this,void 0,void 0,(function(){var t,e,n;return k(this,(function(r){switch(r.label){case 0:return[4,_(this.options)];case 1:return t=r.sent(),e=u.g.getCache(this.options.userId),(n=I(I({},e),t)).securityWebDomain||("empty security web domain@getConfig",(0,h.M2)({error:"empty security web domain@getConfig",type:"Error",funcName:"queryConfig",newSecurityApiDomain:null==t?void 0:t.securityApiDomain,oldSecurityApiDomain:null==e?void 0:e.securityApiDomain,args:[]})),[2,u.g.setCache(this.options.userId,n)]}}))}))},e.prototype.waitUntilFinishLoading=function(t){var e=t.timeout,n=t.interval,r=t.getCache,i=t.setCache,a=t.timeoutDecision;return(0,o.X_)((function(){var t=r();if(!t||(null==t?void 0:t.cache.loading))throw Error(g.cl.GENERAL_QUERY_INFO_TIMEOUT);return t}),{interval:n,timeout:e}).catch((function(t){return(0,h.DO)({error:t,type:"Error",funcName:"waitUntilFinishLoading",args:[e,n,a]}),i({success:!1,loading:!1,fallbackDecision:a,errorMsg:null==t?void 0:t.message,errorStack:null==t?void 0:t.stack})}))},P([(r=function(t,e,n){t.handleOnOptionsChange(e,n)},function(t,e,n){var o,i=null===(o=null==n?void 0:n.initializer)||void 0===o?void 0:o.call(n);return{get:function(){return i},set:function(e){r(t,i,e),i=e}}})],e.prototype,"_options",void 0),P([(0,l.f)({onCatch:function(){return null},onReturn:function(t,e){return e||null}})],e.prototype,"getConfig",null),P([(0,l.f)({onCatch:function(){return null}})],e.prototype,"queryConfig",null),e=n=P([(0,s.p)()],e)}(C).instance},8617:function(t,e,n){"use strict";n.d(e,{E:function(){return v}});var r=n(3788),o=n(213),i=n(3742),a=n(5533),c=n(2074),u=n(5958),l=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},s=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};var f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},p=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},h=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},v=new(function(){function t(){this.plugins={}}return t.prototype.registerPlugin=function(t,e){if(!this.plugins[t.pluginName]){if(!t.pluginName)throw Error("Plugin need static property: pluginName: string, Please add it!");this.plugins[t.pluginName]=new t(i.u.options,e)}},t.prototype.getPluginByName=function(t){return this.plugins[t]},t.prototype.getPluginsBy=function(t){return Object.values(this.plugins).flatMap((function(e){var n,r=null===(n=null==e?void 0:e.match)||void 0===n?void 0:n.call(e,t.map((function(t){return t.policyModel.pointKey})));if(r){var o=new Set(r);return{plugin:e,inputs:t.filter((function(t){return o.has(t.policyModel.pointKey)}))}}return[]}))},t.prototype.execPluginCheckAction=function(t,e){var n=this;return function(t,e){return l(this,void 0,void 0,(function(){var n,r,o,i,a;return s(this,(function(c){switch(c.label){case 0:n=[],r=[],o=0,c.label=1;case 1:if(!(o<t.length))return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,e(t[o],o,t)];case 3:return i=c.sent(),n.push(i.result),i.cancel?[3,6]:[3,5];case 4:return a=c.sent(),r.push({item:t[o],error:a}),[3,5];case 5:return o++,[3,1];case 6:return[2,{result:n,errors:r}]}}))}))}(this.getPluginsBy(t),(function(t){return p(n,void 0,void 0,(function(){var n,r;return h(this,(function(o){switch(o.label){case 0:return n=t.plugin,r=t.inputs,[4,e(n,r)];case 1:return[2,{result:o.sent(),cancel:!1}]}}))}))})).then((function(e){var o=e.result,i=e.errors;n.handlePluginError(i);var a=t.reduce((function(t,e){return o.forEach((function(n){var o;if(n){var i=n[e.taskId];if((null==i?void 0:i.effect)===r.Qm.Deny)return void(t[e.taskId]=f(f({},i),{type:c.Up.pluginCalculate}));(null===(o=t[e.taskId])||void 0===o?void 0:o.effect)||(t[e.taskId]=f(f({},i),{type:c.Up.pluginCalculate}))}})),t}),{});return Object.keys(a).length>0&&a}))},t.prototype.execPluginCheckActionSync=function(t,e){var n;return this.getPluginsBy([t]).some((function(t){var o=t.plugin,i=t.inputs,a=e(o,i[0]);return!(!a||(n=a,(null==a?void 0:a.effect)!==r.Qm.Deny))})),!!n&&f(f({},n),{type:c.Up.pluginCalculate})},t.prototype.handlePluginError=function(t){t.length>0&&t.forEach((function(t){(0,u.DO)({funcName:"execPluginCheckAction",error:t.error,args:[t.item.plugin.getPluginName()],type:"Error"})}))},t.prototype.updateOldPastePlugin=function(t,e){var n,r,o=e.options,i=e.pluginProps,a=Object.keys(o).length>0;i&&((null==t?void 0:t.registerProps)&&(t.registerProps=f(f({},t.registerProps),i)),null===(n=null==t?void 0:t.onRegisterPropsChange)||void 0===n||n.call(t,i)),a&&(t.commonProps=f(f({},t.commonProps),o),null===(r=null==t?void 0:t.onCommonPropsChange)||void 0===r||r.call(t,o))},t.prototype.updateProps=function(t){var e=this,n=t.options,r=void 0===n?{}:n,o=t.pluginProps,i=void 0===o?{}:o;Object.keys(this.plugins).forEach((function(t){var n,o=e.plugins[t];e.updateOldPastePlugin(o,{options:r,pluginProps:i[t]}),null===(n=null==o?void 0:o.updateProps)||void 0===n||n.call(o,r,i[t])}))},d([(0,a.B)()],t.prototype,"registerPlugin",null),d([(0,a.B)()],t.prototype,"getPluginByName",null),t=d([(0,o.p)()],t)}())},2106:function(t,e,n){"use strict";n.d(e,{U:function(){return r},W:function(){return o}});var r=function(){},o=function(){function t(t,e){this.commonProps=t,this.pluginProps=e}return t.prototype.match=function(t){var e=this,n=t.filter((function(t){var n;return null===(n=e.pointKeyList)||void 0===n?void 0:n.includes(t)}));return n.length>0&&n},t}()},2345:function(t,e,n){"use strict";n.d(e,{p:function(){return o},q:function(){return r}});var r=function(t){var e=t.startsWith("http")?"".concat(t,"/lark/scs/compliance/ping"):"https://".concat(t,"/lark/scs/compliance/ping");return fetch(e,{method:"GET",credentials:"include"}).then((function(t){return t.text()})).catch((function(){}))},o=function(t){var e=t.startsWith("http")?"".concat(t,"/lark/scs/compliance/ping_tenant_restriction"):"https://".concat(t,"/lark/scs/compliance/ping_tenant_restriction");return fetch(e,{method:"GET",credentials:"include"})}},9936:function(t,e,n){"use strict";n.d(e,{My:function(){return u},N9:function(){return i},Rm:function(){return a},cl:function(){return c},fj:function(){return o}});var r=n(2074),o={frontEngine:100},i=(r.Mi.FileProtect,{NO_DECISION:"NO DECISION",USE_FALLBACK_WITHOUT_CACHE:"FALLBACK ON SYNC OPERATION",CALC_POLICY_FROM_BACKEND_FAIL:"CALC POLICY FROM BACKEND FAIL"}),a={NO_ACTION_IN_RESPONSE_HEADER:"NO ACTION IN RESPONSE HEADER",DECISION_IS_NOT_JSON:"DECISION IS NOT JSON",DECISION_IS_NOT_ARRAY:"DECISION IS NOT ARRAY",RESPONSE_ACTION_NAME_IS_EMPTY:"RESPONSE ACTION NAME IS EMPTY",OVERRITE_FETCH_ERROR:"OVERRITE FETCH ERROR",OVERRITE_XHR_ERROR:"OVERRITE XHR ERROR"},c={PRELOAD_DECISION_ERROR:"Preload decision error, we have report to slardar, you can oncall to follow this problem",BATCH_CHECK_DECISION_ERROR:"Batch check decision error, we have report to slardar, you can oncall to follow this problem",IS_FAST_PASS_ERROR:"Is Fast Pass error, we have report to slardar, you can oncall to follow this problem",LOAD_TENANT_POLICY_ERROR:"Load tenant policy error, we have report to slardar, you can oncall to follow this problem",CHECK_ACTION_ERROR:"Exec checkAction error,  we have report to slardar, you can oncall to follow this problem",GET_SECURITY_API_DOMAIN_ERROR:"Get securityApiDomain error,  we have report to slardar, you can oncall to follow this problem",GENERAL_QUERY_INFO_TIMEOUT:"General query info error, we have report to slardar, you can oncall to follow this problem",QUERY_CONFIG_INFO_TIMEOUT:"Query config info error, we have report to slardar, you can oncall to follow this problem",CALC_RULES_WITHOUT_EXPR:"No expr in condition",PRELOAD_DECISION_MAXIMUM_LIMIT_EXCEEDED:"Batch threshold = 2000 met!",LOAD_SDK_CONFIG_FAIL:"Load Sdk Config Fail, Details:",ENFORCEMENT_REQUEST_ERROR:function(t){return"Enforcement request with error code: ".concat(t)},FEATURE_KEY_NOT_FOUND:"Feature key not found error",DISABLE_FILE_OPERATE_ON:"disable_file_operate key is true"},u={batchThreshold:100,countsPerBatchEnforce:20,countsPerBatchControlCheck:100}},1720:function(t,e,n){"use strict";n.d(e,{Sx:function(){return c},l3:function(){return o},r_:function(){return i},sI:function(){return r},xS:function(){return a}});var r={retryInterval:1e3,timeout:3e3,interval:3e5},o={retryInterval:1e3,timeout:1e4,interval:5e3},i={retryInterval:1e3,timeout:1e4,interval:9e5},a=200,c=500},4455:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});var r=function(){function t(){this.timers=[]}return t.prototype.stopAllTimers=function(){this.timers.forEach((function(t){t.timer&&clearInterval(t.timer)}))},t.prototype.clearAllTimers=function(){this.stopAllTimers(),this.timers=[]},t.prototype.addTimer=function(t){if(!t.interval)throw Error("Please set interval for addTimer !");t.immediate&&t.handler(!0),t.timer=setInterval(t.handler,t.interval),this.timers.push(t)},t.prototype.reStartAllInterval=function(){this.timers.forEach((function(t){t.timer&&(clearInterval(t.timer),t.immediate&&t.handler(!0),t.timer=setInterval(t.handler,t.interval))}))},t.prototype.onVisibilityChange=function(){var t,e=this;"undefined"!=typeof document&&(null===(t=document.addEventListener)||void 0===t||t.call(document,"visibilitychange",(function(){"visible"===document.visibilityState?e.reStartAllInterval():e.stopAllTimers()})))},t}()},2074:function(t,e,n){"use strict";n.d(e,{BN:function(){return l},GE:function(){return o},Hu:function(){return s},JZ:function(){return d},Mi:function(){return i},ST:function(){return r},Up:function(){return c},Vy:function(){return f},dR:function(){return a},lR:function(){return v},qA:function(){return h},yp:function(){return p}});var r,o,i,a,c,u=n(3788),l={effect:u.Qm.Permit,actions:[]},s={effect:u.Qm.NotApplicable,actions:[]},f={effect:u.Qm.Indeterminate,actions:[]},d={effect:u.Qm.Deny,actions:[]};!function(t){t.CONDITIONAL_ACCESS="PUSH_REQ_REGULATE",t.FILE_OPERATION_DENIAL="FILE_OPERATION_DENIAL",t.SIGNATURE_FAILURE="SIGNATURE_FAILURE",t.POLICY_UPDATE="POLICY_UPDATE",t.POINTCUT_UPDATE="POINTCUT_UPDATE",t.WORKFLOW_LOG="WORKFLOW_LOG",t.PRELOAD_DECISION_UPDATE="PRELOAD_DECISION_UPDATE",t.DECISION_UPDATE="DECISION_UPDATE"}(r||(r={})),function(t){t.STATIC_POINTCUT_POLLING="STATIC_POINTCUT_CHECK",t.NETWORK_ONLINE="NETWORK_ONLINE",t.NETWORK_OFFLINE="NETWORK_OFFLINE",t.BACK_TO_FRONT="VISIBILITY_CHANGE",t.TENANT_SWITCH="TENANT_SWITCH",t.SDK_COLD_BOOST="SDK_COLD_BOOST",t.SDK_LOGIN="SDK_LOGIN",t.DEVICE_AUTH_STATUS_CHANGE="DEVICE_AUTH_STATUS_CHANGE",t.LOAD_ENTITY="LOAD_ENTITY"}(o||(o={})),function(t){t.ConditionalAccessPolicy="COND_ACCESS",t.RetentionScopePolicy="RETENTION_SCOPE",t.RetentionDeletePolicy="RETENTION_DELETE",t.DLPPolicy="DLP",t.DLPAsyncPolicy="DLP_ASYNC",t.AlarmBehaviorAudit="ALARM_BEHAVIOR_AUDIT",t.DLPNative="DLP_NATIVE",t.FileProtect="FILE_PROTECT"}(i||(i={})),function(t){t[t.Allow=1]="Allow",t[t.Deny=2]="Deny"}(a||(a={})),function(t){t.frontFastpass="frontFastpass",t.frontFallback="frontFallback",t.backendFallback="backendFallback",t.settingsFallback="settingsFallback",t.frontCalculate="frontCalculate",t.backendCalculate="backendCalculate",t.pluginCalculate="pluginCalculate",t.cache="cache",t.unknown="unknown"}(c||(c={}));var p,h,v=[c.frontCalculate,c.backendCalculate,c.pluginCalculate];!function(t){t.cn="cn",t.sg="sg",t.va="va",t.gcp="gcp",t.private="private"}(p||(p={})),function(t){t.development="development",t.boe="boe",t.online="online"}(h||(h={}))},4118:function(t,e,n){"use strict";n.d(e,{d8:function(){return r},ej:function(){return o},kT:function(){return i}});var r=function(t){var e=t.key,n=t.value,r=t.domain,o=t.path,i=t.expires,a=void 0===i?new Date(Date.now()+2592e6).toUTCString():i,c=["".concat(e,"=").concat(n),r?"domain=".concat(r):"","expires=".concat(a),o?"path=".concat(o):"path=/"];document.cookie=c.filter(Boolean).join(";")},o=function(t){var e=document.cookie;if(!e||!t)return"";var n=e.split(";").find((function(e){return-1!==e.indexOf("".concat(t,"="))}));return n?function(t){try{return-1!==t.indexOf("%")?decodeURIComponent(t):t}catch(e){return t}}(n.trim().slice(t.length+1,n.length)):""},i=function(t){var e=t.key,n=t.domain,r=t.path,o=["".concat(e,"="),n?"domain=".concat(n):"","expires=Thu, 01 Jan 1970 00:00:01 GMT",r?"path=".concat(r):"path=/"];document.cookie=o.filter(Boolean).join(";")}},7899:function(t,e,n){"use strict";n.d(e,{Z:function(){return o},a:function(){return i}});var r=["OBJECT_TENANT_ID","OBJECT_USER_ID","TENANT_ID","USER_ID","CHAT_ID","operatorTenantId","operatorUid","senderTenantId","senderUserId","chatID","type","objectType"],o=function(t){var e=t;return r.forEach((function(t){e=e.replace(new RegExp('"'.concat(t,'":("([0-9]+)")')),'"'.concat(t,'":$2'))})),e},i=function(t,e){void 0===e&&(e={});try{return JSON.parse(t)}catch(t){return e}}},5958:function(t,e,n){"use strict";n.d(e,{j4:function(){return b},e3:function(){return p},Ty:function(){return y},DO:function(){return g},M2:function(){return _}});var r,o=n(2872),i=n(5978),a=n(2074),c=function(){return(0,i.FH)(location.host).brand===i.H2.FEISHU?"cn":"sg"},u=n(2515),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},f=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},d={initialize:function(t){},client:function(t,e,n){},sendEvent:function(t,e){},eventErrorWithLog:function(t,e){},eventInfoWithLog:function(t,e){},updateConfig:function(t){}},p=function(){return s(void 0,void 0,void 0,(function(){var t;return f(this,(function(e){switch(e.label){case 0:return(null===o._||void 0===o._?void 0:o._.report)?[4,n.e(611).then(n.bind(n,2500))]:[2,d];case 1:return t=e.sent().LmpReport,r||(r=new t),[2,r]}}))}))},h={cn:1161,va:1164,sg:1164,my:1164};var v=/(?:\/)?(?:space\/|drive\/)?(?:preview\/)?(?:component\/)?([a-zA-Z-_]+)?(?:\/([\w]*))/;var y=function(t,e){var r=t.env,l=t.region,d=t.bid,y=t.passportId,_=t.tenantId,g=function(t){if(void 0===t&&(t=window.location.pathname),t.split("/").filter((function(t){return t})).length<2)return"";var e=v.exec(t);return null==e?void 0:e[2]}();p().then((function(t){var n,o,s;t.initialize({bid:d||"lark_policy_sdk_fe",env:r||((0,i.FH)(location.host).env===i.su.BOE?"boe":"online"),locale:l||c(),unit:(n=l,s=(o={},o[a.yp.cn]=i.fb.CN,o[a.yp.sg]=i.fb.SG,o[a.yp.va]=i.fb.VA,o)[n],s||(0,i.FH)(location.host).unit),userId:u.x,domain:{reportSlardarDomain:null==e?void 0:e.slardar_report,cdnSlardarDomain:null==e?void 0:e.slardar_cdn},reportContext:{release:"6.1.7",name:"policy-sdk",passportId:y,tenantId:_},plugins:{ajax:{autoWrap:!0,ignoreUrls:["/monitor_browser/collect/batch/"],collectBodyOnError:!1},fetch:{autoWrap:!0,ignoreUrls:["/monitor_browser/collect/batch/"],collectBodyOnError:!1},resource:{slowSessionThreshold:1e6}}})})),p().then((function(t){t.client("on","beforeSend",(function(t){var e,n;return t.common&&g&&(e=t.common,n=g,Object.keys(e).forEach((function(t){var r=e[t];"string"==typeof r&&-1!==r.indexOf(n)&&(e[t]=e[t].replace(n,"***"))}))),t}))}));var w=function(){return s(void 0,void 0,void 0,(function(){var t,r;return f(this,(function(i){switch(i.label){case 0:return t=function(t){var n=t.tracker,r=l||c();try{n.init({userId:u.x,channel:r,channelDomain:null==e?void 0:e.tea_report,app_id:h[r]}),n.update({userId:u.x,passport_id:y,tenant_id:_,version:"6.1.7"}),(null===o._||void 0===o._?void 0:o._.report)&&(b=n)}catch(t){}},[4,n.e(611).then(n.bind(n,9044))];case 1:return r=i.sent().tracker,t({tracker:r}),[2]}}))}))};try{(void 0)(w)}catch(t){w()}},b={send:function(t,e){},beaconEvent:function(t,e){}},_=function(t){try{p().then((function(e){e.sendEvent({name:"policy_sdk_report",categories:l(l({},t),{logCreateAt:(new Date).getTime()})})}))}catch(t){}},g=function(t){var e;_(l(l({},t),{errorMsg:null===(e=t.error)||void 0===e?void 0:e.message}))}},2515:function(t,e,n){"use strict";var r;n.d(e,{I:function(){return o},x:function(){return r}});var o=function(t){r=t}},7348:function(t,e,n){"use strict";n.d(e,{j:function(){return r}});var r={isFullUpdate:!1}},2872:function(t,e,n){"use strict";n.d(e,{_:function(){return r}});var r=new(function(){function t(){}return Object.defineProperty(t.prototype,"policyWorker",{get:function(){return this.mPolicyWorker},set:function(t){this.mPolicyWorker=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileProtectChecker",{get:function(){return this.mFileProtectChecker},set:function(t){this.mFileProtectChecker=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"larkGateway",{get:function(){return this.mLarkGateway},set:function(t){this.mLarkGateway=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webdidCheck",{get:function(){return this.mWebdidCheck},set:function(t){this.mWebdidCheck=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loginRestriction",{get:function(){return this.mLoginRestriction},set:function(t){this.mLoginRestriction=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dpopProtect",{get:function(){return this.mDpopProtect},set:function(t){this.mDpopProtect=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"report",{get:function(){return this.mReport},set:function(t){this.mReport=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"secSdk",{get:function(){return this.mSecSdk},set:function(t){this.mSecSdk=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"intranet",{get:function(){return this.mIntranet},set:function(t){this.mIntranet=t},enumerable:!1,configurable:!0}),t}())},5713:function(t,e,n){"use strict";n.d(e,{d:function(){return r}});var r="100000"},9466:function(t,e,n){"use strict";n.d(e,{V8:function(){return o}});var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=new(function(){function t(t){this.eventName=t,this.eventHandlers=[],this._window="undefined"!=typeof window?window:void 0,this.hookAdd(),this.hookRemove()}return t.prototype.addHandler=function(t){this.eventHandlers.push(t)},t.prototype.removeHandler=function(t){for(var e=this.eventHandlers.length-1;e>=0;e-=1)if(this.eventHandlers[e]===t)return void this.eventHandlers.splice(e,1)},t.prototype.removeAllHandlers=function(){var t=this._window;if(t)for(var e=this.eventHandlers.length-1;e>=0;e-=1)t.removeEventListener(this.eventName,this.eventHandlers[e])},t.prototype.hookAdd=function(){var t=this,e=this._window;if(e){var n=e.addEventListener;e.addEventListener=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=r(o||[],2),c=a[0],u=a[1];n.apply(e,o),c===t.eventName&&t.addHandler(u)}}},t.prototype.hookRemove=function(){var t=this,e=this._window;if(e){var n=e.removeEventListener;e.removeEventListener=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=r(o||[],2),c=a[0],u=a[1];n.apply(e,o),c===t.eventName&&t.removeHandler(u)}}},t}())("beforeunload")},4056:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var r=n(5978),o=n(3788),i=n(6969),a=n(1854),c=n(2463),u=n(2074),l=n(5958),s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function f(t){var e,n;function r(t){return encodeURIComponent(t).replace(/%20/g,"+")}var o=function t(e,n){void 0===n&&(n="");var r={};return Object.keys(e).forEach((function(o){"object"==typeof e[o]&&null!==e[o]?Object.assign(r,t(e[o],n?"".concat(n,"[").concat(o,"]"):o)):r[n?"".concat(n,"[").concat(o,"]"):o]=e[o]})),r}(t),i=Object.keys(o),a="";try{for(var c=s(i),u=c.next();!u.done;u=c.next()){var l=u.value;a+="".concat(r(l),"=").concat(r(o[l]),"&")}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a.slice(0,-1)}var d,p=n(9466);!function(t){t.Admin="13"}(d||(d={}));var h=function(t){return"undefined"!=typeof window&&!r.Ru||r.Ru&&t===d.Admin},v=function(t){var e=t.securityWebDomain,n=t.urlParams,o=t.lscCode,a=t.lscDecision,c=t.appId,s=t.url;h(c)&&(l.j4.beaconEvent(i.Bd,{scene:i.TP.COND_ACCESS_WEB,behavior:i.r0.JUMP_TO_NO_ACCCESS_PAGE_WEB,params:JSON.stringify({securityWebDomain:e,urlParams:f(n),lscCode:o,lscDecision:a,appId:c,url:s})}),window.onbeforeunload=null,null===p.V8||void 0===p.V8||p.V8.removeAllHandlers(),window.location.href="https://".concat(e,"/conditionalaccess/deny?").concat(f(n)));try{r.Ru&&ShellAPI.app.ipc.sendTo(-1,u.ST.CONDITIONAL_ACCESS,{lscCode:o,lscDecision:a,appId:c})}catch(t){}},y=function(t){var e=t.lscCode,n=t.lscDecision,o=t.appId,a=t.actions,s=t.decision,f=t.url;h(o)&&(l.j4.beaconEvent(i.Bd,{scene:i.TP.FILE_PROTECT_WEB,behavior:i.r0.THROW_POLICY_CENTER_RESOUCE_DENAIL_EVENT,params:JSON.stringify({lscCode:e,lscDecision:n,appId:o,url:f})}),c.u.emit(u.ST.FILE_OPERATION_DENIAL,{decision:s,actions:a,lscCode:e,lscDecision:n,url:f}));try{r.Ru&&ShellAPI.app.ipc.sendTo(-1,u.ST.CONDITIONAL_ACCESS,{lscCode:e,lscDecision:n,appId:o})}catch(t){}},b=(0,a.o)((function(t){var e=function(t){var e;try{var n=JSON.parse(t).actions;if(n&&n.length>0){var r=n.find((function(t){return(null==t?void 0:t.name)===o.Jg.ACCESS_CONTROL_ACTION_COMMON}));if(r)return null===(e=null==r?void 0:r.params)||void 0===e?void 0:e.containerType}}catch(t){return null}return null}(t.lscDecision);e!==o.lS.PAGE?e!==o.lS.DIALOG&&e!==o.lS.TOAST?e?y(t):v(t):y(t):v(t)}),2e3)},5982:function(t,e,n){"use strict";n.d(e,{De:function(){return c},OP:function(){return l},Uc:function(){return f},aM:function(){return d},j0:function(){return u},rK:function(){return s}});var r,o=n(3788),i=n(2074),a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},c={LOAD_CONFIG_FAIL_DECISION:a(a({},i.BN),{type:i.Up.frontFallback,message:"load config fail",logID:"NoLogID_".concat(i.Up.frontFallback,"_LoadSettingsFail")}),SHARE_READ_SWITCH_OFF_DECISION:a(a({},i.BN),{type:i.Up.settingsFallback,message:"share read off",logID:"NoLogID_".concat(i.Up.settingsFallback,"_ShareReadSwitchOff(disable_file_strategy_share)")}),DISABLE_POLICY_ENGINE_DECISION:a(a({},i.BN),{message:"static pointcuts policy polling off",type:i.Up.frontFastpass,logID:"NoLogID_".concat(i.Up.frontFastpass,"_PolicyEngineSwitchOff(enable_policy_engine)")}),DISABLE_FILE_STRATEGY_DECISION:a(a({},i.BN),{message:"policy check action off",type:i.Up.settingsFallback,logID:"NoLogID_".concat(i.Up.settingsFallback,"_PolicyStrategySwitchOff(disable_file_strategy)")}),DISABLE_FILE_STRATEGY_CLIENT:a(a({},i.BN),{message:"static pointcuts file policy check action off",type:i.Up.settingsFallback,logID:"NoLogID_".concat(i.Up.settingsFallback,"_StaticPointcutPolicyCheckSwitchOff(file_protection_client)")}),DISABLE_MINUTES:a(a({},i.BN),{message:"minutes file policy point off",type:i.Up.settingsFallback,logID:"NoLogID_".concat(i.Up.settingsFallback,"_MinutesFilePolicyCheckSwitchOff(enable_meeting_minutes_file_strategy)")})},u={isFullUpdate:!1},l=((r={})[i.Up.pluginCalculate]=800,r[i.Up.backendCalculate]=700,r[i.Up.frontCalculate]=600,r[i.Up.settingsFallback]=500,r[i.Up.frontFastpass]=400,r[i.Up.cache]=300,r[i.Up.backendFallback]=200,r[i.Up.frontFallback]=100,r[i.Up.unknown]=0,r),s={effect:o.Qm.Deny,actions:[{name:o.Jg.NetworkStrict,params:{policyType:"FILE_PROTECT"}}]},f=4,d=2e3},3198:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var r=n(3031),o=n(1720),i=n(5958),a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},c=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},u=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},l=o.sI.retryInterval,s=o.sI.timeout;function f(t,e,n){var o=this,f=t.url,d=t.method,p=t.data,h=e||{},v=h.baseURL,y=h.headers,b=h.timeout,_=v?v+f:f,g=new AbortController,w=b?setTimeout((function(){return g.abort()}),b):-1,m=b?{signal:g.signal}:{};return(0,r.X_)((function(){return c(o,void 0,void 0,(function(){var t,e,n;return u(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),[4,fetch(_,a({method:d,body:JSON.stringify(p),credentials:"include",headers:y},m))];case 1:return t=r.sent(),[3,4];case 2:return e=r.sent(),(0,i.M2)({error:e.message}),[3,4];case 3:return clearTimeout(w),[7];case 4:return 200!==t.status?[3,6]:[4,t.json()];case 5:return(n=r.sent()).data||function(t){(0,i.M2)(a({error:"request success, but no data available in response",type:"Error",funcName:"uploadErrorOfNoData"},t))}({url:_,response:n,args:p,headers:y}),[2,{success:!0,data:n.data}];case 6:return function(t){var e=t.status,n=t.statusText,r=t.args,o=t.url,a=t.headers;(0,i.M2)({error:"request server error",status:e,statusText:n,url:o,headers:a,type:"Error",funcName:"uploadErrorWithStatusCode",args:r})}({args:p,status:t.status,statusText:t.statusText,url:_,headers:y}),[2,{success:!1}]}}))}))}),{interval:(null==n?void 0:n.retryInterval)||l,timeout:(null==n?void 0:n.timeout)||s}).catch((function(t){return(0,i.M2)({error:null==t?void 0:t.message,args:p,url:_,isOnline:navigator.onLine}),{success:!1,error:t}}))}},9741:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function a(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const c=[];for(let t=0;t<256;++t)c.push((t+256).toString(16).slice(1));function u(t,e=0){return(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase()}var l=function(t,e,n){if(r.randomUUID&&!e&&!t)return r.randomUUID();const o=(t=t||{}).random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=o[t];return e}return u(o)}},9717:function(t,e,n){"use strict";n.d(e,{kP:function(){return o},x0:function(){return i}});let r=t=>crypto.getRandomValues(new Uint8Array(t)),o=(t,e=21)=>((t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*r*e/t.length);return(i=e)=>{let a="";for(;;){let e=n(o),c=o;for(;c--;)if(a+=t[e[c]&r]||"",a.length===i)return a}}})(t,e,r),i=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((t,e)=>t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_","")},5846:function(t,e,n){"use strict";var r=n(6063).Z.Symbol;e.Z=r},8607:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(5846),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r.Z?r.Z.toStringTag:void 0;var u=function(t){var e=i.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[c]=n:delete t[c]),o},l=Object.prototype.toString;var s=function(t){return l.call(t)},f=r.Z?r.Z.toStringTag:void 0;var d=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?u(t):s(t)}},9664:function(t,e){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;e.Z=n},6063:function(t,e,n){"use strict";var r=n(9664),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.Z||o||Function("return this")();e.Z=i},7519:function(t,e){"use strict";var n=Array.isArray;e.Z=n},532:function(t,e){"use strict";e.Z=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},1941:function(t,e){"use strict";e.Z=function(t){return null!=t&&"object"==typeof t}},9782:function(t,e,n){"use strict";var r=n(8607),o=n(7519),i=n(1941);e.Z=function(t){return"string"==typeof t||!(0,o.Z)(t)&&(0,i.Z)(t)&&"[object String]"==(0,r.Z)(t)}},3901:function(t,e,n){"use strict";var r=n(8607),o=n(1941);e.Z=function(t){return"symbol"==typeof t||(0,o.Z)(t)&&"[object Symbol]"==(0,r.Z)(t)}},4353:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var r=n(532),o=n(6063),i=function(){return o.Z.Date.now()},a=/\s/;var c=function(t){for(var e=t.length;e--&&a.test(t.charAt(e)););return e},u=/^\s+/;var l=function(t){return t?t.slice(0,c(t)+1).replace(u,""):t},s=n(3901),f=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,h=parseInt;var v=function(t){if("number"==typeof t)return t;if((0,s.Z)(t))return NaN;if((0,r.Z)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,r.Z)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=l(t);var n=d.test(t);return n||p.test(t)?h(t.slice(2),n?2:8):f.test(t)?NaN:+t},y=Math.max,b=Math.min;var _=function(t,e,n){var o,a,c,u,l,s,f=0,d=!1,p=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function _(e){var n=o,r=a;return o=a=void 0,f=e,u=t.apply(r,n)}function g(t){return f=t,l=setTimeout(m,e),d?_(t):u}function w(t){var n=t-s;return void 0===s||n>=e||n<0||p&&t-f>=c}function m(){var t=i();if(w(t))return E(t);l=setTimeout(m,function(t){var n=e-(t-s);return p?b(n,c-(t-f)):n}(t))}function E(t){return l=void 0,h&&o?_(t):(o=a=void 0,u)}function C(){var t=i(),n=w(t);if(o=arguments,a=this,s=t,n){if(void 0===l)return g(s);if(p)return clearTimeout(l),l=setTimeout(m,e),_(s)}return void 0===l&&(l=setTimeout(m,e)),u}return e=v(e)||0,(0,r.Z)(n)&&(d=!!n.leading,c=(p="maxWait"in n)?y(v(n.maxWait)||0,e):c,h="trailing"in n?!!n.trailing:h),C.cancel=function(){void 0!==l&&clearTimeout(l),f=0,o=s=a=l=void 0},C.flush=function(){return void 0===l?u:E(i())},C};var g=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return(0,r.Z)(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),_(t,e,{leading:o,maxWait:e,trailing:i})}}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,n){return r.f[n](t,e),e}),[]))},r.u=function(t){return({82:"login-restriction",178:"dpop-protect-web",219:"file-policy-workflow",303:"security-info",310:"logger",611:"lmp-sdk-report",750:"dpop-protect-mobile-webview",864:"dpop-protect-web-iframe",949:"file-policy-worker"}[t]||t)+".policy-sdk-6.1.7.js"},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},r.l=function(e,n,o,i){if(t[e])t[e].push(n);else{var a,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var s=u[l];if(s.getAttribute("src")==e||s.getAttribute("data-webpack")=="__builtin_policy_sdk__:"+o){a=s;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack","__builtin_policy_sdk__:"+o),a.src=e),t[e]=[n];var f=function(n,r){a.onerror=a.onload=null,clearTimeout(d);var o=t[e];if(delete t[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(t){return t(r)})),n)return n(r)},d=setTimeout(function(t,e){if(e&&"timeout"===e.type){if(window.staticCDNErrorHandler&&window.tryToLoadBackupCdn){var n=Date.now();window.logCDNErrorEntries&&window.logCDNErrorEntries(i,"script",{first_fetch_duration:Date.now()-n}),staticCDNErrorHandler(a.src,"script"),tryToLoadBackupCdn(a.src,"script",!0,f)}}else f(t,e)}.bind(null,void 0,{type:"timeout",target:a}),c?12e4:3e4);if(a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),window.staticCDNErrorHandler&&window.tryToLoadBackupCdn){var p=Date.now();a.onerror=function(){window.logCDNErrorEntries&&window.logCDNErrorEntries(i,"script",{first_fetch_duration:Date.now()-p}),staticCDNErrorHandler(a.src,"script"),tryToLoadBackupCdn(a.src,"script",!0,f)}}c&&document.head.appendChild(a)}},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.p=navigator.cdn_host ? navigator.cdn_host+"/lmp/scs/" : document.currentScript.src.substr(0, document.currentScript.src.lastIndexOf('/') + 1),function(){var t={179:0};r.f.j=function(e,n){var o=r.o(t,e)?t[e]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise((function(n,r){o=t[e]=[n,r]}));n.push(o[2]=i);var a=r.p+r.u(e),c=new Error;r.l(a,(function(n){if(r.o(t,e)&&(0!==(o=t[e])&&(t[e]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,o[1](c)}}),"chunk-"+e,e)}};var e=function(e,n){var o,i,a=n[0],c=n[1],u=n[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(u)u(r)}for(e&&e(n);l<a.length;l++)i=a[l],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=this.webpackChunk_builtin_policy_sdk_=this.webpackChunk_builtin_policy_sdk_||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var o={};!function(){"use strict";r.r(o),r.d(o,{ActionNameKey:function(){return tt.Jg},DeterministicDecisionTypeEnum:function(){return i.Up},Effect:function(){return tt.Qm},EntityDomain:function(){return ht.pW},EntityOperate:function(){return tt.OW},EntityType:function(){return tt.py},Environment:function(){return i.qA},FileSourceDomain:function(){return tt.Su},PointKey:function(){return pt.MA},PolicyEvent:function(){return i.ST},PolicyPlugin:function(){return vt.W},PolicyType:function(){return i.Mi},Region:function(){return i.yp},default:function(){return St},init:function(){return It},update:function(){return Pt}});var t=r(8617),e=r(3742),n=r(2463),i=r(2074),a=r(9208),c=r(5958),u=r(3545),l=r(2872);var s,f,d,p,h,v=function(){},y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},b=function(t){return new Promise((function(e,n){"undefined"==typeof document&&n(new Error("non-browser env"));var r=t.domain,o=t.path,i=t.backupDomains,a=t.retried;try{var c="https://".concat(r).concat(o),u=document.createElement("script");u.onload=function(){return e(!0)},u.onerror=function(){var t={domain:r,path:o};if(a)n(new Error("Resource load failed: ".concat(c)));else{if(Array.isArray(i)&&i.length>0){var u=y(i),l=u[0],s=u.slice(1);t.domain=l,t.backupDomains=s}else a||(t.retried=!0);b(t).then((function(){return e(!0)})).catch((function(t){return n(t)}))}},u.setAttribute("type","text/javascript"),u.setAttribute("src",c),document.head.appendChild(u)}catch(t){n(t)}}))},_=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},g=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},w=function(){return _(void 0,void 0,Promise,(function(){var t,n,r;return g(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.u.getConfig()];case 1:return t=o.sent(),n=null==t?void 0:t.secSdkWeb,r="https://".concat(null==t?void 0:t.securityApiDomain,"/device/sdk/v5/r"),n&&(i=n.url,new Promise((function(t){if("undefined"!=typeof document)try{var e="https://".concat(i),n=document.createElement("script");n.onload=function(){return t(!0)},n.setAttribute("type","text/javascript"),n.setAttribute("src",e),document.head.appendChild(n)}catch(t){}}))).then((function(){window.__lark_sec_sdk.setEnv(r,n.token)})),[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}var i}))}))},m=function(){return(m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},E=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},C=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},O=r(5978),S=r(4622),I=r(2442),P=function(){return(P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},T=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},k=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},A=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},R=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},N=Math.random().toString().slice(2),L=function(){},D=(null===(f=null===(s=e.u.getConfigSync())||void 0===s?void 0:s.featureSwitch)||void 0===f?void 0:f.terminal_new)?O.rD:O.n5;if("undefined"!=typeof window&&D!==O.OE.Web){var M,x=function(){var t,e,n,r,o,i,a;try{var c=null!==(e=null===(t=window.LarkWebViewJavaScriptBridge)||void 0===t?void 0:t.nativeCallBack)&&void 0!==e?e:L,u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{if([O.OE.Android,O.OE.iOS].includes(D)){var n=(null==t?void 0:t[0])||{},r=n.callbackID,o=n.data,i=n.callbackType;r===N&&"success"===i&&(h=o),c.apply(void 0,R([],A(t),!1))}if([O.OE.PC].includes(D)){var a=A(t||[],1);o=a[0];h=o}}catch(t){}},l={apiName:"larkPrivateGatewayParams",data:{},callbackID:N};window.LarkWebViewJavaScriptBridge&&(window.LarkWebViewJavaScriptBridge.nativeCallBack=u),D===O.OE.Android&&(null===(n=window.Lark_Bridge)||void 0===n||n.invokeNative(JSON.stringify(l))),D===O.OE.iOS&&(null===(i=null===(o=null===(r=window.webkit)||void 0===r?void 0:r.messageHandlers)||void 0===o?void 0:o.invokeNative)||void 0===i||i.postMessage(P(P({},l),{data:{__v2__:!0}}))),D===O.OE.PC&&(null===(a=window.ttJSBridge)||void 0===a||a.invoke(l.apiName,P(P({},l.data),{success:u})))}catch(t){}};if(!Object.prototype.hasOwnProperty.call(window,"LarkWebViewJavaScriptBridge")&&(null===(d=Object.getOwnPropertyDescriptor(window,"LarkWebViewJavaScriptBridge"))||void 0===d?void 0:d.configurable)&&[O.OE.Android,O.OE.iOS].includes(D))Object.defineProperties(window,{LarkWebViewJavaScriptBridge:{get:function(){return M},set:function(t){var e;M=t,(null==t?void 0:t.nativeCallBack)&&(e=t.nativeCallBack),Object.defineProperties(t,{nativeCallBack:{get:function(){return e},set:function(t){e=t,x()},configurable:!0}})}}});else if(!Object.prototype.hasOwnProperty.call(window,"ttJSBridge")&&(null===(p=Object.getOwnPropertyDescriptor(window,"ttJSBridge"))||void 0===p?void 0:p.configurable)&&[O.OE.PC].includes(D)){var U;Object.defineProperties(window,{ttJSBridge:{get:function(){return U},set:function(t){U=t,x()}}})}else(window.LarkWebViewJavaScriptBridge||window.ttJSBridge)&&x()}var F=function(){return T(void 0,void 0,void 0,(function(){var t,e,n;return k(this,(function(r){switch(r.label){case 0:if(D===O.OE.Web)return[2,{}];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,ShellAPI.app.passport.getAuthInfo()];case 2:return t=r.sent().userId,[3,4];case 3:return r.sent(),[3,4];case 4:try{e=ShellAPI.app.environment.appVersion}catch(t){}return[2,P(P({},h),(n={},n[I.DH]=t||(null==h?void 0:h[I.DH]),n[I.qA]=e||(null==h?void 0:h[I.qA]),n))]}}))}))},j=r(4118),B="undefined"!=typeof window?window.fetch:function(){return Promise.resolve(new Response)},G=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},H=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function W(){try{return(0,j.ej)(I.cy)||""}catch(t){return""}}function q(t){var n;return G(this,void 0,Promise,(function(){var r,o;return H(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),r=void 0,t.tokenApiUrl?(r=t.tokenApiUrl,[3,3]):[3,1];case 1:return[4,e.u.getConfig()];case 2:if(!(o=null===(n=i.sent())||void 0===n?void 0:n.csrfApiDomain))return[2,""];r="https://".concat(o,"/lgw/csrf_token"),i.label=3;case 3:return r?[4,B(r,{credentials:"include"})]:[2,""];case 4:return i.sent(),[2,(0,j.ej)(I.cy)];case 5:return i.sent(),[2,""];case 6:return[2]}}))}))}var V,K=(V=function(t,e){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}V(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},J=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Z=function(t){function n(n){var r=t.call(this)||this;return r.csrfConfig={},r.request=function(t){return Y(r,void 0,Promise,(function(){var n,r,o;return J(this,(function(i){switch(i.label){case 0:return[4,this.doNotIntercept(t.url.toString())];case 1:return i.sent()?[2,!0]:(n=null===(o=null===(r=e.u.getConfigSync())||void 0===r?void 0:r.featureSwitch)||void 0===o?void 0:o.terminal_new,t.setHeader(I._E,encodeURIComponent(n?O.rD:O.n5)),t.setHeader(I.eM,encodeURIComponent(O.oU)),e.u.options.appId&&t.setHeader(I.UA,encodeURIComponent(e.u.options.appId)),[4,this.setDynamicParams(t)]);case 2:return i.sent(),[2,!0]}}))}))},"undefined"!=typeof window&&(window.lgw_sdk_hooked=!0),r.csrfConfig=(null==n?void 0:n.csrf)||{},r}return K(n,t),n.prototype.setDynamicParams=function(t){return Y(this,void 0,void 0,(function(){var e,n,r,o,i;return J(this,(function(a){switch(a.label){case 0:return[4,F()];case 1:return e=a.sent(),[I.qA,I.Rg,I.o7,I.h7,I.md,I.DH,I.xH].forEach((function(n){(null==e?void 0:e[n])&&t.setHeader(n,encodeURIComponent(e[n]))})),n=new URL(t.url,window.location.origin).searchParams.toString().slice(1),"undefined"!=typeof window&&window.__lark_sec_sdk?(r={query:n,body:t.body},[4,window.__lark_sec_sdk.signRequest(r)]):[3,3];case 2:(o=a.sent())&&t.setHeader(I.T9,o),a.label=3;case 3:return this.csrfConfig.enable?(this.getCsrfTokenPromise||(this.getCsrfTokenPromise=function(t){return G(this,void 0,Promise,(function(){var e;return H(this,(function(n){switch(n.label){case 0:return(e=W())?[3,2]:[4,q(t)];case 1:e=n.sent(),n.label=2;case 2:return[2,e]}}))}))}(this.csrfConfig)),[4,this.getCsrfTokenPromise]):[3,5];case 4:i=a.sent(),this.getCsrfTokenPromise=void 0,t.setHeader(I.sh,i),a.label=5;case 5:return[2]}}))}))},n.prototype.doNotIntercept=function(t){var n;return Y(this,void 0,Promise,(function(){var r;return J(this,(function(o){switch(o.label){case 0:return O.oU===O.wh.iOS&&O.Ru&&O.j_&&!/^(https:)?\/\//.test(t)?[2,!0]:[4,e.u.getConfig()];case 1:return(r=o.sent())&&(null===(n=null==r?void 0:r.featureSwitch)||void 0===n?void 0:n.lgw_sdk_web)?[2,!1]:[2,!0]}}))}))},n.key="LarkGatewayInterceptor",n}(S.n),Q={request:r(3198).Z,baseURL:""};Q.genBaseURL=function(t){return"function"==typeof Q.baseURL?Q.baseURL(t):Q.baseURL+t};var X,z=r(4821);!function(t){t[t.Inactive=1]="Inactive",t[t.Active=2]="Active"}(X||(X={}));var $,tt=r(3788),et=r(1854),nt=r(5713),rt=r(4056),ot=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},at=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},ct=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},ut=function(t){function n(){var n,r=this;return(r=t.call(this)||this).pollingTokenFailures=0,r.addrCalled=!1,r.request=function(){return at(r,void 0,Promise,(function(){return ct(this,(function(t){switch(t.label){case 0:return[4,this.getTerminalJwt()];case 1:return t.sent()||(0,j.kT)({key:"sec_terminal_token",domain:e.u.options.baseDomain}),[2,!0]}}))}))},r.response=function(t,n){return at(r,void 0,void 0,(function(){var r,o,i,a,c,u,l,s,f,d,p,h,v,y;return ct(this,(function(b){switch(b.label){case 0:return(r=t.getHeader(I.pX))&&this.prevIp&&r!==this.prevIp&&!document.hidden&&(this.refreshToken(),this.prevIp=r),!this.prevIp&&r&&(this.prevIp=r),o=t.getHeader(nt.d),i=t.getHeader(I.sb),a=n.url.toString(),c=(0,I.JT)(i).actions,u=null===(v=c[0])||void 0===v?void 0:v.name,[tt.Jg.Intranet].includes(u)?[4,e.u.getConfig()]:[3,2];case 1:return l=b.sent(),s=null==l?void 0:l.securityWebDomain,f=e.u.options,d=f.language,p=f.passportId,h={appid:p,language:d,redirectUrl:(null===(y=null===window||void 0===window?void 0:window.location)||void 0===y?void 0:y.href)||"",actions:c},(0,rt.Z)({securityWebDomain:s,urlParams:h,lscCode:o,lscDecision:i,actions:c,appId:p,url:a}),[2,!1];case 2:return[2,!0]}}))}))},setInterval((function(){r.getCrossTabTimeIntervalAllowed()&&r.refreshToken()}),3e5),null===(n=window.addEventListener)||void 0===n||n.call(window,"online",(function(){return r.refreshToken()})),r}return ot(n,t),n.prototype.refreshToken=function(){return at(this,void 0,void 0,(function(){return ct(this,(function(t){switch(t.label){case 0:return[4,this.pollTerminalJwt()];case 1:return t.sent()||((0,j.kT)({key:"sec_terminal_token",domain:e.u.options.baseDomain}),this.pollingTokenFailures=this.pollingTokenFailures+1),this.pollingTokenFailures%3==0&&this.pollingTokenFailures>0?[4,this.getProxyAddr(!1)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.getCrossTabTimeIntervalAllowed=function(){if("undefined"!=typeof localStorage){var t=Number(null===localStorage||void 0===localStorage?void 0:localStorage.getItem("__TERMINAL_TOKEN_TIME_STORAGE")),e=(new Date).valueOf();if(isNaN(t)||e-t>3e5||e<t)return null===localStorage||void 0===localStorage||localStorage.setItem("__TERMINAL_TOKEN_TIME_STORAGE","".concat(e-1e3)),!0}return!1},n.prototype.getProxyAddr=function(t){return void 0===t&&(t=!0),at(this,void 0,void 0,(function(){var e,n;return ct(this,(function(r){switch(r.label){case 0:if(t){if(this.proxyAddr)return[2,this.proxyAddr];if(e=null===localStorage||void 0===localStorage?void 0:localStorage.getItem("__REVERSE_PROXY_SERVER_ADDR"))return[2,e];if(this.addrCalled)return[2,""]}return[4,this.fetchProxyAddr()];case 1:return n=r.sent(),this.addrCalled=!0,[2,n]}}))}))},n.prototype.fetchProxyAddr=function(){return at(this,void 0,Promise,(function(){var t,e;return ct(this,(function(n){switch(n.label){case 0:return[4,(0,z.R$)()];case 1:return t=n.sent().data,e=t.address,t.status!==X.Active?[2,""]:(this.proxyAddr=e,null===localStorage||void 0===localStorage||localStorage.setItem("__REVERSE_PROXY_SERVER_ADDR",e),[2,e])}}))}))},n.prototype.pollTerminalJwt=function(){return at(this,void 0,Promise,(function(){var t;return ct(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,this.getProxyAddr()];case 1:return t=e.sent(),[4,this.fetchTerminalJwt(t)];case 2:return[2,e.sent()];case 3:return e.sent(),[2,""];case 4:return[2]}}))}))},n.prototype.getTerminalJwt=function(){return at(this,void 0,Promise,(function(){var t=this;return ct(this,(function(e){if(this.tokenPromise)return[2,this.tokenPromise];try{return this.tokenPromise=this.pollTerminalJwt().catch((function(){return t.tokenPromise=null})),[2,this.tokenPromise]}catch(t){return this.tokenPromise=null,[2,""]}return[2]}))}))},n.prototype.fetchTerminalJwt=function(t){var n;return at(this,void 0,Promise,(function(){var r;return ct(this,(function(o){switch(o.label){case 0:return t?[4,(i={baseURL:"https://".concat(t),timeout:2e3},a=Q.genBaseURL("/lark/security/internal/terminal/intranet/token"),Q.request({url:a,method:"GET"},i))]:[2,""];case 1:return r=o.sent(),(null===(n=r.data)||void 0===n?void 0:n.token)?((0,j.d8)({key:"sec_terminal_token",value:r.data.token,domain:e.u.options.baseDomain,expires:new Date(Date.now()+36e4).toUTCString()}),[2,r.data.token]):[2,""]}var i,a}))}))},n.key="IntranetDetectionInterceptor",it([(0,et.w)(1e4)],n.prototype,"refreshToken",null),n}(S.n),lt=r(5982),st=r(7348),ft=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},dt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},pt=r(6969),ht=r(3583),vt=r(2106),yt=function(){return(yt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},bt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},_t=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},gt={getPluginInstByName:function(e){return t.E.getPluginByName(e)},registerPlugin:function(e,n){return t.E.registerPlugin(e,n)}},wt={checkAction:function(t){return bt(this,void 0,Promise,(function(){return _t(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicyOld()];case 1:return e.sent(),[2,(new l._.policyWorker).checkAction(t)]}}))}))},checkActionSync:function(t){return Ot.initFilePolicyOld(),(new l._.policyWorker).checkActionSync(t)},preloadDecisions:function(t){return bt(this,void 0,Promise,(function(){return _t(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicyOld()];case 1:return e.sent(),[2,new l._.policyWorker("batch").preloadDecisions(t)]}}))}))},isFastPass:function(t){return(new l._.policyWorker).isFastPass(t)}},mt={checkActionRemote:function(t){return bt(this,void 0,Promise,(function(){return _t(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),[2,(new l._.fileProtectChecker).checkActionRemote(t)]}}))}))},checkAction:function(t){return bt(this,void 0,Promise,(function(){return _t(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),[2,(new l._.fileProtectChecker).checkAction(t)]}}))}))},checkActionSync:function(t){return Ot.initFilePolicy(),(new l._.fileProtectChecker).checkActionSync(t)},preloadDecisions:function(t){return bt(this,void 0,Promise,(function(){return _t(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),[2,(new l._.fileProtectChecker).preloadDecisions(t)]}}))}))},isFastPass:function(t){return(new l._.fileProtectChecker).isFastPass(t)},registerActions:function(t){return bt(this,void 0,void 0,(function(){return _t(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),l._.fileProtectChecker.registerActions(t),[2]}}))}))},loadEntity:function(t){return bt(this,void 0,void 0,(function(){return _t(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),[2,(new l._.fileProtectChecker).loadEntity(t)]}}))}))},unloadEntities:function(t){return bt(this,void 0,void 0,(function(){return _t(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),[2,(new l._.fileProtectChecker).unloadEntities(t)]}}))}))},unloadAllEntities:function(t){return bt(this,void 0,void 0,(function(){return _t(this,(function(e){switch(e.label){case 0:return[4,Ot.initFilePolicy()];case 1:return e.sent(),[2,(new l._.fileProtectChecker).unloadAllEntities(t)]}}))}))}},Et={getConfig:function(){return bt(void 0,void 0,void 0,(function(){return _t(this,(function(t){switch(t.label){case 0:return[4,e.u.getConfig()];case 1:return[2,t.sent()]}}))}))}},Ct={onConditionalAccessDenial:function(t){return n.u.on(i.ST.CONDITIONAL_ACCESS,t)},onFilePolicyDenial:function(t){return n.u.on(i.ST.FILE_OPERATION_DENIAL,t)},onPolicyUpdate:function(t){return n.u.on(i.ST.POLICY_UPDATE,t)},onPointcutUpdate:function(t){return n.u.on(i.ST.POINTCUT_UPDATE,t)},onWorkflowLog:function(t){return n.u.on(i.ST.WORKFLOW_LOG,t)},onPreloadDecisionChange:function(t){return n.u.on(i.ST.PRELOAD_DECISION_UPDATE,(function(e){return t(yt(yt({},e),{getTaskIdByInput:function(t){return(0,u.EE)(t)}}))}))},onDecisionChange:function(t){return n.u.on(i.ST.DECISION_UPDATE,(function(e){return t(yt(yt({},e),{getTaskIdByInput:function(t){return(0,u.EE)(t)}}))}))}},Ot=yt(yt({init:function(t){var n=e.u.initOptions(t);return n&&((0,a.pF)(),e.u.queryInfos(),this.initReporter()),e.u.setupTimers(),this.initModules(t.modules),n},initModules:function(t){var n=t||{},o=n.larkGateway,i=n.filePolicy,c=n.webdidCheck,u=n.loginRestriction,s=n.secSdk,f=n.bdmsSdk,d=n.filePolicyOld,p=n.dpopProtect,h=n.intranet,y=n.logger;p&&this.initDPoPProtect(p),o&&this.initLarkGateway(),i&&this.initFilePolicy(),!i&&d&&this.initFilePolicyOld(),h&&this.initIntranet(),c&&(l._.webdidCheck||(l._.webdidCheck=!0,(0,a.m5)(),(0,a.YC)())),u&&(l._.loginRestriction||(l._.loginRestriction=!0,(0,a.BD)())),f&&(l._.secSdk||(l._.secSdk=!0,E(void 0,void 0,Promise,(function(){var t,n,r,o,i,a,c,u,l,s,f;return C(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,e.u.getConfig()];case 1:return t=d.sent(),n=null==t?void 0:t.secSdkWeb,r=null==t?void 0:t.bdmsSdkApiDomain,o=null!==(f=null==n?void 0:n.bdmsConf)&&void 0!==f?f:{},i=o.aid,a=o.domain,c=o.path,u=o.backupDomains,l=o.enable,s=o.options,c&&l?b({domain:a,path:c,backupDomains:u}).then((function(){var t=m(m({},s),{aid:null!=i?i:1664,rpU:r?"https://".concat(r):void 0});(window.bdms||window.byted_acrawler).init(t)})).catch(v):w(),[3,3];case 2:return d.sent(),v(),[3,3];case 3:return[2]}}))})))),s&&(l._.secSdk||(l._.secSdk=!0,w())),y&&!l._.logger&&e.u.options.userId&&(l._.logger=!0,function(t,e){ft(void 0,void 0,void 0,(function(){var n,o,i,a,c,u,l,s,f,d,p,h,v,y,b,_;return dt(this,(function(g){switch(g.label){case 0:return n=e.getConfigSync(),(null===(y=null==n?void 0:n.featureSwitch)||void 0===y?void 0:y.enable_logifier)?(o=t.exporter,i=t.packer,[4,Promise.all([r.e(886),r.e(310)]).then(r.bind(r,6726))]):[2];case 1:return a=g.sent(),c=a.TracerProvider,u=a.BatchSpanProcessor,[4,Promise.all([r.e(886),r.e(310)]).then(r.bind(r,9143))];case 2:return l=g.sent().Logifier,s=e.options.userId,f=(null===(b=null==n?void 0:n.featureParams)||void 0===b?void 0:b.max_record_count)||1e3,d=(null===(_=null==n?void 0:n.featureParams)||void 0===_?void 0:_.schedule_duration_ms)||1e4,p=new c,h=new u(new o({dbName:"policy-sdk-log",storeName:s,config:{separateStoreByDate:!0,maxStoreCount:7,maxRecordCount:f}}),{scheduleDurationMs:d}),p.addSpanProcessor(h),p.register(),i?(v=new i({dbName:"policy-sdk-log",storeName:s}),new l({logifierUrlBase:"https://".concat(e.options.settingDomain),logPacker:v,filenamePattern:"lark_security",appId:"feishu"===e.options.brand?"592346":"592347",deviceId:s}).startPoll("lark_security_".concat(s),"9BB6JY32EHQA8MM98R8D"),[2]):[2]}}))}))}(y,e.u))},initReporter:function(){var t;return bt(this,void 0,void 0,(function(){var n;return _t(this,(function(r){switch(r.label){case 0:return[4,e.u.getConfig()];case 1:return n=r.sent(),l._.report=!0,(null===(t=null==n?void 0:n.featureSwitch)||void 0===t?void 0:t.policy_sdk_disable_report)&&(l._.report=!1),(0,c.Ty)(e.u.options,null==n?void 0:n.domains),[2]}}))}))},initFilePolicyOld:function(){var t;return bt(this,void 0,void 0,(function(){var e,o,c;return _t(this,(function(u){switch(u.label){case 0:return l._.policyWorker?[2]:l._.fileProtectChecker?(l._.policyWorker=l._.fileProtectChecker,[2]):[4,Promise.all([r.e(126),r.e(216),r.e(949)]).then(r.bind(r,1643))];case 1:return e=u.sent().PolicyWorker,[4,Promise.all([r.e(126),r.e(216),r.e(949)]).then(r.bind(r,5644))];case 2:return o=u.sent().FilePolicyInterceptor,l._.policyWorker=e,n.u.on(i.GE.NETWORK_ONLINE,(function(){(new e).autoCheckStaticActions("network")})),n.u.on(i.GE.SDK_COLD_BOOST,(function(){st.j.isFullUpdate=!0,(new e).autoCheckStaticActions("init")})),n.u.on(i.GE.STATIC_POINTCUT_POLLING,(function(){st.j.isFullUpdate=!0,(new e).autoCheckStaticActions("polling")})),n.u.on(i.GE.BACK_TO_FRONT,(function(){st.j.isFullUpdate=!0,(new e).autoCheckStaticActions("backToFront")})),n.u.on(i.GE.TENANT_SWITCH,(function(){st.j.isFullUpdate=!0,(new e).autoCheckStaticActions("tenantSwitch")})),c=new o,null===(t=(0,a.UE)())||void 0===t||t.appendInterceptors([],[c]),[2]}}))}))},initFilePolicy:function(){var t;return bt(this,void 0,void 0,(function(){var e,o,c;return _t(this,(function(u){switch(u.label){case 0:return l._.fileProtectChecker?[2]:l._.policyWorker?(l._.fileProtectChecker=l._.policyWorker,[2]):[4,Promise.all([r.e(126),r.e(216),r.e(886),r.e(219)]).then(r.bind(r,7285))];case 1:return e=u.sent().FileProtectChecker,[4,Promise.all([r.e(126),r.e(216),r.e(886),r.e(219)]).then(r.bind(r,5644))];case 2:return o=u.sent().FilePolicyInterceptor,l._.fileProtectChecker=e,e.init(),n.u.on(i.GE.NETWORK_ONLINE,(function(){(new e).autoCheckActions(i.GE.NETWORK_ONLINE)})),n.u.on(i.GE.SDK_COLD_BOOST,(function(){lt.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.SDK_COLD_BOOST)})),n.u.on(i.GE.STATIC_POINTCUT_POLLING,(function(){lt.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.STATIC_POINTCUT_POLLING)})),n.u.on(i.GE.BACK_TO_FRONT,(function(){lt.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.BACK_TO_FRONT)})),n.u.on(i.GE.TENANT_SWITCH,(function(){lt.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.TENANT_SWITCH)})),function(t){var e;try{ShellAPI.app.ipc.on(i.GE.DEVICE_AUTH_STATUS_CHANGE,t)}catch(t){}null===(e=window.addEventListener)||void 0===e||e.call(window,"message",(function(e){"SCS_SECURITY_CLOSE_DIALOG"===e.data&&t()}),!1)}((function(){lt.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.DEVICE_AUTH_STATUS_CHANGE)})),c=new o,null===(t=(0,a.UE)())||void 0===t||t.appendInterceptors([],[c]),[2]}}))}))},initLarkGateway:function(t){var e;if(!l._.larkGateway){l._.larkGateway=!0;var n=new Z(t);null===(e=(0,a.UE)())||void 0===e||e.appendInterceptors([n])}},initIntranet:function(){var t;if(!l._.intranet){l._.intranet=!0;var e=new ut;null===(t=(0,a.UE)())||void 0===t||t.appendInterceptors([e],[e])}},initDPoPProtect:function(t){var e,n,o;return bt(this,void 0,void 0,(function(){var i,c,u,s;return _t(this,(function(f){switch(f.label){case 0:return l._.dpopProtect?[2]:"web-same-origin"!==t.enableEnv?[3,2]:[4,Promise.all([r.e(126),r.e(95),r.e(178)]).then(r.bind(r,7629))];case 1:return i=f.sent().DPoPInterceptorWeb,l._.dpopProtect=!0,s=new i,null===(e=(0,a.UE)())||void 0===e||e.appendInterceptors([s],[s]),[3,6];case 2:return"web-cross-origin"!==t.enableEnv?[3,4]:[4,r.e(864).then(r.bind(r,6657))];case 3:return c=f.sent().DPoPInterceptorWebIframe,l._.dpopProtect=!0,s=new c,null===(n=(0,a.UE)())||void 0===n||n.appendInterceptors([s],[s]),[3,6];case 4:return"mobileWebview"!==t.enableEnv?[3,6]:[4,Promise.all([r.e(126),r.e(95),r.e(750)]).then(r.bind(r,7366))];case 5:u=f.sent().DPoPInterceptorMobileWebview,l._.dpopProtect=!0,s=new u,null===(o=(0,a.UE)())||void 0===o||o.appendInterceptors([s],[s]),f.label=6;case 6:return[2]}}))}))},update:function(n){var r=n.options,o=void 0===r?{}:r;e.u.setOptions(o),t.E.updateProps(n)}},gt),{pluginManager:gt,fileProtectChecker:mt,policyWorker:wt,events:Ct,pap:Et}),St=(null===($=window.__builtin_policy_sdk__)||void 0===$?void 0:$.default)||Ot,It=Ot.init,Pt=Ot.update}(),__builtin_policy_sdk__=o}();